webpackJsonp([7],{"08rw":function(t,e,o){"use strict";var n=o("/oeL"),i=o("BkNc"),r=o("1Gqf");o.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.router=t,this._swal=e}return t.prototype.canDeactivate=function(t,e,o,n){var i=this;return!(!t.form.pristine&&"/login"!==n.url&&!t.submitting)||t.canDeactivate().then(function(t){return!!t||(i.router.navigate([o.url]),!1)})},t}();l=s([o.i(n.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==i.b&&i.b)&&c||Object,"function"==typeof(d=void 0!==r.a&&r.a)&&d||Object])],l);var c,d},"4FFc":function(t,e,o){"use strict";o.d(e,"a",function(){return n});var n=function(){function t(){this.codProveedor=0,this.idUsuarioProveedor=0,this.estatus="A",this.fechaAlta=new Date,this.fechaBaja=new Date,this.ultimaActividad=new Date,this.fechaFormato=""}return t}()},"4Nfx":function(t,e,o){"use strict";var n=o("BkNc"),i=o("byUq"),r=o("l9Zo"),s=o("ydrT"),a=o("08rw");o.d(e,"a",function(){return c});var l=[{path:"",component:i.a},{path:"registrar",component:r.a,canActivate:[s.c],canDeactivate:[a.a]},{path:":id",component:r.a,canActivate:[s.c],canDeactivate:[a.a]},{path:":id/detalles",component:r.a,canDeactivate:[a.a]}],c=n.c.forChild(l)},"9hyH":function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}.margen{margin-top:4px}button[type=submit].notInModal{margin-right:120px}button[type=submit].inModal{margin-right:79px}#nuevoTipo.notInModal{margin-left:603px}#nuevoTipo.inModal{margin-left:459px}.alineado{margin-left:9px}@media screen and (max-width:991px){button[type=submit],button[type=submit].inModal,button[type=submit].notInModal{margin-right:0}#guardarTipo,#nuevoTipo{margin-top:10px}#nuevoCorreo{margin-right:15px}#nuevoCorreo,select{margin-top:10px}#nuevoTipo{margin-left:0}}@media (max-width:575px){.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:68%}}@media screen and (max-width:425px){button,label{font-size:.8em}input,select{font-size:.7em}div small{font-size:.65em}div span,section.form-group{margin-top:-5%}}@media screen and (max-width:375px){button,label{font-size:.75em}}@media screen and (max-width:320px){button,label{font-size:.7em}}@media screen and (max-width:768px){.margen{margin-top:4px}}",""]),t.exports=t.exports.toString()},"FWd+":function(t,e,o){"use strict";var n=o("/oeL"),i=o("bm2B"),r=o("l76V"),s=o("D/Rt"),a=o("ydrT");o.d(e,"a",function(){return d});var l=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,o){var i=this;this._fb=t,this._swal=e,this._service=o,this.onInsert=new n.EventEmitter,this.onRemove=new n.EventEmitter,this.selected=new n.EventEmitter,this.tipos=[],this.isMainEmail=!1,this.correoOcupado=!1,this.previousEmail="",this.formErrors={descripcion:"",idTipoCorreo:""},this.msgErrors={idTipoCorreo:{minValue:"Especifique un nuevo tipo de correo"},descripcion:{required:"Debe de especificar un tipo de correo"}},this._service.getTipos("correos").subscribe(function(t){t&&(i.tipos=t,i.correosForm.get("idTipoCorreo").value>0&&i.correosForm.get("tipo").setValue(i.tipos.find(function(t){return t.idTipoCorreo==i.correosForm.get("idTipoCorreo").value}).descripcion))},function(t){return i._swal.error(t)}),this.bindForm()}return t.prototype.ngOnInit=function(){var t=this;this.previousEmail=this.correosForm.get("correo").value,this.correosForm.get("principal").value&&(this.isMainEmail=!0,this.selected.emit(!0)),this.correosForm.get("correo").valueChanges.subscribe(function(e){e&&t.correosForm.get("correo").valid&&t._service.getExists(e.toLowerCase()).subscribe(function(e){e?(t.correoOcupado=!0,t.correosForm.get("occupied").setValue(!0)):(t.correoOcupado=!1,t.correosForm.get("occupied").setValue(!1))})}),this.windowSize=new a.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e})},t.prototype.bindForm=function(){var t=this;this.tipoForm=this._fb.group({idTipoCorreo:[0],descripcion:[null,[i.c.required,s.a.formatoDescripcion]]}),this.tipoForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.tipoForm){var e=this.tipoForm;for(var o in this.formErrors){this.formErrors[o]="";var n=e.get(o);if(n&&!n.valid&&n.dirty){var i=this.msgErrors[o];for(var r in n.errors)"currentValue"!==r&&(this.formErrors[o]||(this.formErrors[o]+=i[r]+""))}}}},t.prototype.remove=function(){this.isMainEmail&&(this.isMainEmail=!1,this.selected.emit(!1)),this.onRemove.emit(this.contador-1)},t.prototype.addNew=function(){if(this.correosForm.invalid||this.correosForm.valid&&this.correoOcupado)return void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente la información.");this.onInsert.emit()},t.prototype.addTipo=function(){var t=this;if(!this.tipoForm.valid)return void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente la información.");console.log("tipoForm:",this.tipoForm.value),this._service.guardarTipo("correos",this.tipoForm.value).subscribe(function(e){return t._service.getTipos("correos").subscribe(function(e){return Promise.resolve(t.tipos=e).then(function(e){return t.correosForm.get("idTipoCorreo").setValue(t.tipos[t.tipos.length-1].idTipoCorreo)})},function(e){return t._swal.error(e)})},function(e){return t._swal.error(e)},function(){return t.tipoForm.reset()})},t.prototype.checked=function(t){this.correosForm.get("principal").value?(this.isMainEmail=!0,this.selected.emit(!0)):(this.isMainEmail=!1,this.selected.emit(!1))},t.prototype.isMobileSize=function(){return this.windowWidth<=991},t}();l([o.i(n.Input)("group"),c("design:type","function"==typeof(u=void 0!==i.e&&i.e)&&u||Object)],d.prototype,"correosForm",void 0),l([o.i(n.Input)("multiple"),c("design:type",Number)],d.prototype,"contador",void 0),l([o.i(n.Input)("size"),c("design:type",Number)],d.prototype,"length",void 0),l([o.i(n.Input)(),c("design:type",Boolean)],d.prototype,"inModal",void 0),l([o.i(n.Input)(),c("design:type",Boolean)],d.prototype,"hasMainEmail",void 0),l([o.i(n.Input)(),c("design:type",Boolean)],d.prototype,"inDetails",void 0),l([o.i(n.Output)(),c("design:type",Object)],d.prototype,"onInsert",void 0),l([o.i(n.Output)(),c("design:type",Object)],d.prototype,"onRemove",void 0),l([o.i(n.Output)(),c("design:type",Object)],d.prototype,"selected",void 0),d=l([o.i(n.Component)({selector:"app-formulario-correo",template:o("zpxJ"),styles:[o("9hyH")]}),c("design:paramtypes",["function"==typeof(p=void 0!==i.d&&i.d)&&p||Object,"function"==typeof(f=void 0!==a.b&&a.b)&&f||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object])],d);var u,p,f,m},GBmC:function(t,e){t.exports='<section [formGroup]="telefonosForm" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t<label class="col-form-label" [ngClass]="{\'col-sm-12\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t<span *ngIf="length>1" class="badge badge-pill badge-primary">{{contador}}</span>\n\t\t<i class="fa fa-phone fa-fw" aria-hidden="true"></i><strong> Teléfono(s):</strong>\n\t\t<div *ngIf="length > 1 && isMobileSize() && !inDetails" class="pull-right">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t</label>\n\t<article\n\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\'px-0 ml-3 col-sm-3\': !isMobileSize() && !inDetails,\n\t\t\t\t\t\'col\': !isMobileSize() && inDetails,\n\t\t\t\t\t\'has-danger\': !telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty),\n\t\t\t\t\t\'has-success\': telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty) && !inDetails}">\n\t\t<input class="form-control" type="text" formControlName="telefono" placeholder="Ej. (667)151-9658" [readonly]="inDetails"\n\t\t\t(focus)="inDetails ? phonePipeFlag=true : phonePipeFlag=false"\n\t\t\t(blur)="phonePipeFlag=true"\n\t\t\t[value]="phonePipeFlag && telefonosForm.get(\'telefono\').valid ? (telefonosForm.get(\'telefono\').value | telefono) : telefonosForm.get(\'telefono\').value"\n\t\t\t[ngClass]="{\'form-control-danger\': !telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty),\n\t\t\t\t\t\t\'form-control-success\': telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty)}">\n\n\n\n\n\n\n\n\t\t<div *ngIf="telefonosForm.get(\'telefono\').hasError(\'required\') && telefonosForm.get(\'telefono\').dirty" \n\t\t\t class="alert alert-danger">\n\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo es obligatorio!</small>\n\t\t</div>\t\t\t\t\t\n\t</article>\n\t<article\n\t\t[ngClass]="{\'col-sm-12\':isMobileSize(),\'px-0 ml-3 col-sm-3\':!isMobileSize(),\n\t\t\t\t\t\'has-danger\':!telefonosForm.get(\'idTipoTelefono\').valid && (telefonosForm.get(\'idTipoTelefono\').touched ||telefonosForm.get(\'idTipoTelefono\').dirty),\n\t\t\t\t\t\'has-success\':telefonosForm.get(\'idTipoTelefono\').valid && (telefonosForm.get(\'idTipoTelefono\').touched ||telefonosForm.get(\'idTipoTelefono\').dirty)}">\n\t\t<select class="custom-select form-control" formControlName="idTipoTelefono" *ngIf="!inDetails"\n\t\t\t[ngClass]="{\'form-control-sm\':windowWidth<=450}">\n\t\t\t<option *ngIf="telefonosForm.get(\'idTipoTelefono\').pristine&&!telefonosForm.get(\'idTipoTelefono\').value" selected value="null">\n\t\t\t\tSeleccione un tipo\n\t\t\t</option>\n\t\t\t<option *ngFor="let t of tipos | orderByDescription: [\'descripcion\']" value="{{t.idTipoTelefono}}">{{t.descripcion | titleCase}}</option>\n\t\t\t<option value="-1">*Nuevo tipo de teléfono</option>\n\t\t</select>\n\t\t\x3c!--tipo--\x3e\n\t\t<input type="text" class="form-control" *ngIf="inDetails" [value]="telefonosForm.value.idTipoTelefono | tipoTelefono: tipos" formControlName="idTipoTelefono" readonly\n\t\t\t[ngClass]="{\'margen\': windowWidth <= 780}">\n\t\t<div *ngIf="formErrors.idTipoTelefono" class="alert alert-danger">\n\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.idTipoTelefono}}</small>\n\t\t</div>\n\t\t\n\t</article>\n\t<span *ngIf="contador===length && !isMobileSize() && !inDetails" id="nuevoTelefono"\n\t\t  [ngClass]="{\'ml-auto mr-3\':contador<2,\'ml-2\':contador>1}">\n\t\t<span class="float-right">\n\t\t\t<button type="button" class="btn btn-outline-primary" (click)="addNew()" placement="right" [disabled]="telefonosForm.invalid">\n\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i>\n\t\t\t</button>\n\t\t</span>\n\t</span>\n\t<div *ngIf="length > 1 && !isMobileSize() && !inDetails" class="ml-auto mr-3">\n\t\t<span class="close" (click)="remove()">&times;</span>\n\t</div>\n\t<section *ngIf="telefonosForm.get(\'idTipoTelefono\').value<0" class="col-12">\n\t\t<form [formGroup]="tipoForm" (submit)="addTipo()" novalidate class="form-inline" [ngClass]="{\'justify-content-center\': isMobileSize()}">\n\t\t\t<div *ngIf="!isMobileSize()" class="col-sm-4 offset-sm-7 row">\n\t\t\t\t<article class="px-0 offset-1 col-sm-7" id="nuevoTipo"\n\t\t\t\t\t\t[ngClass]="{\'has-danger\': formErrors.descripcion,\'has-success\': !formErrors.descripcion}">\n\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" placeholder="Nuevo tipo..." autofocus>\n\t\t\t\t</article>\n\t\t\t\t<article class="col-sm-2 ml-2" id="guardarTipo">\n\t\t\t\t\t<button type="submit" class="btn btn-success" [disabled]="tipoForm.invalid"\n\t\t\t\t\t\t\t[ngClass]="{\'inModal\':inModal,\'notInModal\':!inModal}">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t\t<div *ngIf="isMobileSize()" class="px-0 col-sm-12 row">\n\t\t\t\t<article class="pl-0 col-sm-10" id="nuevoTipo">\n\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" placeholder="Nuevo tipo...">\n\t\t\t\t</article>\n\t\t\t\t<article class="ml-auto" id="guardarTipo">\n\t\t\t\t\t<button type="submit" class="btn btn-success" [disabled]="tipoForm.invalid"\n\t\t\t\t\t\t\t[ngClass]="{\'inModal\':inModal,\'notInModal\':!inModal}">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t</form>\n\t</section>\n\t<span *ngIf="contador===length && isMobileSize() && !inDetails" id="nuevoTelefono" class="float-right">\n\t\t<span>\n\t\t\t<button type="button" class="btn btn-outline-primary"\n\t\t\t\t(click)="addNew()"\n\t\t\t\t[disabled]="telefonosForm.invalid"\n\t\t\t\t[ngClass]="{\'btn-sm\':windowWidth<=450}">\n\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i> Nuevo\n\t\t\t</button>\n\t\t</span>\n\t</span>\n</section>'},"IB+J":function(t,e){t.exports='<section class="encabezado">\n\t<title>| {{titulo}} usuario</title>\n    <br>\n\t<strong>\n\t\t<h5>{{titulo | uppercase}} USUARIO:</h5>\n\t\t<h5><small *ngIf="inDetails || id">{{nombre | uppercase}}</small></h5>\n\t</strong>\n    <hr>\n</section>\n<section class="contenedor">\n\t<form [formGroup]="form" (submit)="onSubmit()" novalidate class="container">\n\t\t<ngb-tabset>\n\t\t<ngb-tab>\n\t\t\t<ng-template ngbTabTitle>\n\t\t\t\t\x3c!-- <span [ngClass]="{\'validTab\': isGeneralTabValid() && empresaSelected,\'invalidTab\': !isGeneralTabValid()||!empresaSelected}">General</span> --\x3e\n\t\t\t\t<span [ngClass]="{\'validTab\': isGeneralTabValid(),\'invalidTab\': !isGeneralTabValid()}">General</span>\n\t\t\t</ng-template>\n\t\t\t<ng-template ngbTabContent>\n\t\t\t<article class="tab"></article>\n\x3c!--.................................................................... Empresas--\x3e\n\t\t\t\x3c!-- <section formArrayName="empresas2" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t\t<i class="fa fa-building fa-fw" aria-hidden="true"></i><strong> Empresa(s):</strong>\n\t\t\t\t</label>\n\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(),\'col-sm-8\': !isMobileSize()}">\n\t\t\t\t<section id="listaEmpresas">\n\t\t\t\t\t<section *ngFor="let e of form.get(\'empresas2\').controls; let i=index" class="container">\n\t\t\t\t\t\t<article [formGroupName]="i" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t\t\t\t<label class="custom-control custom-checkbox" [ngClass]="{\'col-sm-6\':isMobileSize(), \'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t\t\t\t<input type="checkbox" class="custom-control-input" formControlName="selected" \n\t\t\t\t\t\t\t\t\t\t*ngIf="!inDetails">\n\t\t\t\t\t\t\t\t<input type="hidden">\n\t\t\t\t\t\t\t\t<span class="custom-control-indicator" *ngIf="!inDetails"></span>\n\t\t\t\t\t\t\t\t<span class="custom-control-description">{{e.value.nombre}}</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t\t</article>\n\t\t\t</section> --\x3e\n\x3c!--.................................................................... Usuario--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}" *ngIf="id || inDetails">\n\t            <label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-user fa-fw" aria-hidden="true"></i><strong> Usuario:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\n\t\t\t\t\t<input class="form-control" type="text" formControlName="usuario" [readonly]="id || inDetails">\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Nombre completo del usuario--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-id-card fa-fw" aria-hidden="true"></i><strong> Nombre:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.nombre,\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.nombre && !inDetails}">\n\t\t\t\t\t<input class="form-control" type="text" formControlName="nombre" placeholder="Ej. José Doroteo Arango Arámbula"\n\t\t\t\t\t\t[readonly]="inDetails"\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.nombre,\n\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.nombre && !inDetails}">\n\t\t\t\t\t<div *ngIf="formErrors.nombre" class="alert alert-danger">\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.nombre}}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Código postal--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t            <label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\n\t                <i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Código postal:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.cp,\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.cp && !inDetails,\n\t\t\t\t\t\t\t\t\'has-warning\': !formErrors.cp && !contDatos}">\n\t\t\t\t\t<input class="form-control" type="text" formControlName="cp" placeholder="Ej. 34497." maxlength="5"\n\t\t\t\t\t\t[readonly]="inDetails"\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.cp,\n\t\t\t\t\t\t\t\t   \'form-control-success\': !formErrors.cp && !inDetails,\n\t\t\t\t\t\t\t\t   \'form-control-warning\': !formErrors.cp && !contDatos}">             \n\t\t\t\t\t<div *ngIf="formErrors.cp" class="alert alert-danger">\n\t                    <small><i class="fa fa-warning"></i>&nbsp; {{formErrors.cp}}</small>\n\t                </div>\n\t                <div *ngIf="!contDatos && !formErrors.cp" class="alert alert-warning">\n\t                    <small><i class="fa fa-warning"></i>&nbsp; El código postal no existe!</small>\n\t                </div>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Estado--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Estado:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize() }">\n\t\t\t\t\t<input type="text" class="form-control" formControlName="codEstado" value="{{estado}}" readonly>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Municipio--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Municipio:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\n\t\t\t\t\t<input type="text" class="form-control" formControlName="municipio" readonly>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Ciudad--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Ciudad:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article *ngIf="!sinCiudad || !contDatos"\n\t                [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\n\t\t\t\t\t<input type="text" class="form-control" formControlName="ciudad" readonly>\n\t\t\t\t</article>\n\t\t\t\t<article *ngIf="sinCiudad && contDatos" [ngClass]="{\'col-sm-12\': isMobileSize(),\'col-sm-8\': !isMobileSize()}">\n\t                 <input type="text" class="form-control uppercase" formControlName="ciudad" readonly placeholder="--Estado sin ciudad--">\n\t            </article>\n\t\t\t</section>\n\x3c!--.................................................................... Colonias--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Colonia:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.colonia,\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.colonia && !inDetails}">\n\t\t\t\t\t<select class="custom-select form-control" formControlName="colonia" *ngIf="!inDetails"\n\t\t\t\t\t\t[ngClass]="{\'form-control-sm\': isMobileSize()}">\n\t\t\t\t\t\t<option *ngIf="(form.controls[\'colonia\'].pristine && !form.controls[\'colonia\'].value) || !form.controls[\'colonia\'].valid" selected value="null">\n\t\t\t\t\t\t\tSeleccione una colonia\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option *ngFor="let c of colonias | orderByColonia" value="{{c}}">{{c}}</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<input type="text" class="form-control" formControlName="colonia" *ngIf="inDetails" readonly>\n\t\t\t\t\t<div *ngIf="formErrors.colonia" class="alert alert-danger">\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.colonia}}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Calle--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Calle:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.calle,\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.calle && !inDetails}">\n\t\t\t\t\t<input class="form-control" type="text" formControlName="calle" placeholder="Ej. Av. Francisco Villa."\n\t                    [readonly]="inDetails"\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\':formErrors.calle,\n\t                                \'form-control-success\':!formErrors.calle && !inDetails}">\n\t\t\t\t\t<div *ngIf="formErrors.calle" class="alert alert-danger">\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.calle}}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Número Exterior--\x3e\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Número:</strong>\n\t\t\t\t</label>\n\t\t\t\t<article\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.numeroExt,\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.numeroExt && !inDetails}">\n\t\t\t\t\t<input class="form-control" type="text" formControlName="numeroExt" placeholder="Ej. #1878."\n\t\t\t\t\t\t[readonly]="inDetails"\n\t                    [ngClass]="{\'form-control-danger\': formErrors.numeroExt,\n\t                                \'form-control-success\': !formErrors.numeroExt && !inDetails}">\n\t\t\t\t\t<div *ngIf="formErrors.numeroExt" class="alert alert-danger">\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.numeroExt}}</small>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</section>\n\x3c!--.................................................................... Contraseñas--\x3e\n\t\t\t<section formGroupName="contras">\n\t\t\t\t<section *ngIf="!inDetails" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t\t<i class="fa fa-key fa-fw" aria-hidden="true"></i><strong> Contraseña:</strong>\n\t\t\t\t\t</label>\n\t\t\t\t\t<article\n\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\t\'has-danger\': formErrors.contrasena,\n\t\t\t\t\t\t\t\t\t\'has-success\': !formErrors.contrasena}">\n\t\t\t\t\t\t<div class="inner-addon left-addon">\n\t\t\t\t\t\t\t<span (click)="showPassword()">\n\t\t\t\t\t\t\t\t\t<i id="changeEye" class="fa fa-eye fa-3" aria-hidden="true"></i>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<input class="form-control" type="password" id="password" formControlName="contraseña" onpaste="return false" maxlength="16"\n\t\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.contrasena,\n\t\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.contrasena}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf="formErrors.contrasena" class="alert alert-danger">\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.contrasena}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</section>\n\t\t\t\t<section *ngIf="!inDetails" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-8\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t\t<i class="fa fa-key fa-fw" aria-hidden="true"></i><strong> Confirmar Contraseña:</strong>\n\t\t\t\t\t</label>\n\t\t\t\t\t<article\n\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\n\t\t\t\t\t\t\t\t\t\'has-danger\': formErrors.confirmContrasena || formErrors.contras,\n\t\t\t\t\t\t\t\t\t\'has-success\': !formErrors.confirmContrasena || !formErrors.contras}">\n\t\t\t\t\t\t<input class="form-control" type="password" formControlName="confirmContraseña" onpaste="return false" maxlength="16"\n\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.confirmContrasena || formErrors.contras,\n\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.confirmContrasena && !formErrors.contras}">\n\t\t\t\t\t\t<div *ngIf="formErrors.confirmContrasena" class="alert alert-danger">\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.confirmContrasena}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div *ngIf="formErrors.contras&&(!formErrors.confirmContrasena&&!formErrors.contrasena)" \n\t\t\t\t\t\t\tclass="alert alert-danger">\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.contras}}</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</article>\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t</ng-template>\n\t\t</ngb-tab>\n\t\t  <ngb-tab id="class">\n\t\t\t<ng-template ngbTabTitle>\n\t\t\t\t<span [ngClass]="{\'validTab\': isPersonalTabValid() && mainEmail>-1 && !checkOccupiedEmails(),\n\t\t\t\t\t\t\t\t\'invalidTab\': !isPersonalTabValid() || mainEmail<0 || checkOccupiedEmails()}">Personal</span>\n\t\t\t</ng-template>\n\t\t\t<ng-template ngbTabContent>\n\t\t\t\t<article class="tab"></article> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--TELEFONO --\x3e\n\t\t\t\t <section formArrayName="telefonos">\n\t\t\t\t\t<article *ngFor="let Datos of form.get(\'telefonos\').controls; let i=index; let c=count;">\n\t\t\t\t\t\t<section [formGroupName]="i" class="form-group clearfix">\n\t\t\t\t\t\t\t<app-formulario-telefono  \n\t\t\t\t\t\t\t\t\t\t\t[group]="Datos" \n\t\t\t\t\t\t\t\t\t\t\t[multiple]="i+1"\n\t\t\t\t\t\t\t\t\t\t\t[size]="c"\n\t\t\t\t\t\t\t\t\t\t\t[inModal]="inModal"\n\t\t\t\t\t\t\t\t\t\t\t[inDetails]="inDetails"\n\t\t\t\t\t\t\t\t\t\t\t(onInsert)="addDatosTelefono()"\n\t\t\t\t\t\t\t\t\t\t\t(onRemove)="removeDatosTelefono($event)">\n\t\t\t\t\t\t\t</app-formulario-telefono>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</article>\n\t\t\t\t</section> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--CORREO --\x3e\n\t\t\t\t<section formArrayName="correos">\n\t\t \t\t\t<article *ngFor="let Datos of form.get(\'correos\').controls; let i=index; let c=count;">\n\t\t \t\t\t\t<section [formGroupName]="i" class="form-group clearfix">\n\t\t\t \t\t\t\t<app-formulario-correo \n\t\t\t \t\t\t\t\t\t\t\t[group]="Datos"\n\t\t\t\t\t\t\t\t\t\t\t[multiple]="i+1"\n\t\t\t\t\t\t\t\t\t\t\t[size]="c"\n\t\t\t\t\t\t\t\t\t\t\t[inModal]="inModal"\n\t\t\t\t\t\t\t\t\t\t\t[inDetails]="inDetails"\n\t\t\t\t\t\t\t\t\t\t\t[hasMainEmail]="mainEmail>-1?true:false"\n\t\t\t\t\t\t\t\t\t\t\t(onInsert)="addDatosCorreo()"\n\t\t\t\t\t\t\t\t\t\t\t(onRemove)="removeDatosCorreo($event)"\n\t\t\t\t\t\t\t\t\t\t\t(selected)="checkAvailability(i,c,$event)">\n\t\t\t\t\t\t\t</app-formulario-correo>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</article>\n\t\t\t\t</section>\n\t\t\t</ng-template>\n\t\t</ngb-tab>\n\t\t<ngb-tab>\n\t\t\t<ng-template ngbTabTitle><span class="validTab">Permisos</span></ng-template>\n\t\t\t<ng-template ngbTabContent>\n\t\t\t\t<article class="tab"></article>\n\t\t\t\t<section formArrayName="permisos">\n\t\t\t\t\t<section *ngFor="let p of form.get(\'permisos\').controls; let i=index">\n\t\t\t\t\t\t<section class="clearfix justify-content-center" [ngClass]="{\'row\':!isMobileSize()}" [formGroupName]="i">\n\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t\t\t\t\t\t\t<i class="fa fa-key" aria-hidden="true"></i><strong> {{ p.value.descripcion }}</strong>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<article class="col-sm-3">\n\t\t\t\t\t\t\t\t<section class="row pt-1 justify-content-center">\n\t\t\t\t\t\t\t\t\t<label class="r-btn btn ml-1" role="button" *ngFor="let n of nivelesPermisos"\n\t\t\t\t\t\t\t\t\t\t\t[class.active]="p.value.nivel === n.value"\n\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'btn-outline-primary\':n.type!==\'None\',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'btn-outline-danger\':n.type===\'None\'}">\n\t\t\t\t\t\t\t\t\t\t<input type="radio" formControlName="nivel" [value]="n.value" *ngIf="permiso===\'todos\' && !inDetails">\n\t\t\t\t\t\t\t\t\t\t<span class="custom-control-description" [ngSwitch]="n.type">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-book" aria-hidden="true" *ngSwitchCase="\'Read\'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit" aria-hidden="true" *ngSwitchCase="\'All\'"></i>\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-times" aria-hidden="true" *ngSwitchCase="\'None\'"></i>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t</ng-template>\n\t\t</ngb-tab>  \n\t\t</ngb-tabset>\n\t\t<section class="botones">\n\t\t\t<span placement="top" [ngbTooltip]="!form.valid||mainEmail<0||checkOccupiedEmails() ?\'Complete todos los campos correctamente\':false" *ngIf="!inDetails">\n\t\t\t\t<input type="submit" role="button" [value]="titulo" class="btn btn-outline-success" [disabled]="!form.valid || mainEmail<0 || checkOccupiedEmails()">\n\t\t\t</span>\n\t\t\t<a class="btn btn-outline-success" routerLink="../" *ngIf="inDetails && permiso===\'todos\'">Modificar</a>\n\t\t\t<a class="btn btn-outline-danger" [routerLink]="inDetails ? \'../../\' : \'../\'">Cancelar</a>\n\t\t</section>\n\t</form>\n</section>'},"S7w+":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("/oeL"),i=o("0WLp"),r=o("CPp0"),s=o("qbdv"),a=o("bm2B"),l=o("iz04"),c=o("+ebz"),d=o("XDF1"),u=o("l76V"),p=o("SIGK"),f=o("iAID"),m=o("byUq"),g=o("l9Zo"),h=o("FWd+"),b=o("mMnu"),v=o("4Nfx"),y=o("ydrT"),x=o("08rw");o.d(e,"UsuariosProveedoresModule",function(){return C});var w=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},C=function(){function t(){}return t}();C=w([o.i(n.NgModule)({imports:[s.a,a.a,a.b,i.a.forRoot(),v.a,r.b,l.a,c.a,d.a],exports:[h.a,b.a],providers:[u.a,x.a,y.a,y.b,y.c,f.a,p.a],declarations:[m.a,g.a,h.a,b.a]})],C)},byUq:function(t,e,o){"use strict";var n=o("/oeL"),i=o("BkNc"),r=o("pxC1"),s=o("l76V"),a=o("3H5c"),l=o("ydrT");o.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,o,n,i,r){var s=this;this.loginService=t,this.upService=e,this._swal=o,this._router=n,this._route=i,this._permisosService=r,this.currentPage=1,this.buscador="",this.permiso="",this.focusedOnSearch=!1,this.columnas=[{display:"#",variable:"idUsuarioProveedor",showMobile:!0,showTablet:!0},{display:"Usuario",variable:"usuario",showMobile:!0,showTablet:!0},{display:"Nombre",variable:"nombre",showTablet:!0},{display:"Ultimo Acceso",variable:"ultimaActividad",isDate:!0}],this.order={column:"idUsuarioProveedor",index:!1,descending:!0},this.design={encabezado:{fondo:"bg-dark",color:"text-white"}},this.options={details:!0,edit:!0,delete:!0},this.usuarios=this.upService.usuariosProveedores,this._permisosService.getMisPermisosExt().subscribe(function(t){console.log(t),s.getPermissionLevel(t.data)})}return t.prototype.ngOnInit=function(){var t=this;this.upService.getUsuariosProveedores(),this.loginService.empresa.subscribe(function(e){return t.selectedEmpresa=e}),this.loginService.getSelectedEmpresa(),this.windowSize=new l.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e})},t.prototype.getPermissionLevel=function(t){this.permiso=t.find(function(t){return t.permiso.descripcion?"Usuarios"===t.permiso.descripcion:"Usuarios"===t.permiso}).nivel,this.permiso||this._router.navigateByUrl("proveedor/home")},t.prototype.details=function(t){this._router.navigate([t.idUsuarioProveedor+"/detalles"],{relativeTo:this._route})},t.prototype.edit=function(t){this._router.navigate([""+t.idUsuarioProveedor],{relativeTo:this._route})},t.prototype.delete=function(t){var e=this,o="¿Está seguro(a) de querer eliminar al usuario:\n"+t.usuario+"?";this._swal.confirmMsg("¿DESEA ELIMINAR?",o).then(function(o){o>0?(t.estatus="I",t.permisos=null,e.upService.putUsuarioProveedor(t).subscribe(function(t){return e._swal.success("¡Eliminado!","Se ha eliminado correctamente.",3e3)},function(t){return e._swal.error(t)})):o||e._swal.danger("¡Cancelado!","No se realizaron cambios.",3e3)})},t.prototype.isMobileSize=function(){return this.windowWidth<=425},t.prototype.isTabletSize=function(){return this.windowWidth<=768},t}();u=c([o.i(n.Component)({selector:"app-catalogo",template:o("vWeH"),styles:[o("vg3Z")]}),d("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(f=void 0!==s.a&&s.a)&&f||Object,"function"==typeof(m=void 0!==l.b&&l.b)&&m||Object,"function"==typeof(g=void 0!==i.b&&i.b)&&g||Object,"function"==typeof(h=void 0!==i.a&&i.a)&&h||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object])],u);var p,f,m,g,h,b},iAID:function(t,e,o){"use strict";var n=o("/oeL"),i=o("CPp0"),r=o("bKpL"),s=(o.n(r),o("5v8a")),a=(o.n(s),o("xpf9")),l=(o.n(a),o("z0cY"));o.d(e,"a",function(){return f});var c=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=new l.a,p=u.ruta+"datoscp/",f=function(){function t(t){this._http=t}return t.prototype.getCodigoPostal=function(t){var e=new i.d({Authorization:localStorage.getItem("id_token")}),o=new i.e({headers:e});return this._http.get(p+t,o).map(function(t){return t.json()}).catch(function(t){return r.Observable.throw(t)})},t}();f=c([o.i(n.Injectable)(),d("design:paramtypes",["function"==typeof(m=void 0!==i.f&&i.f)&&m||Object])],f);var m},l76V:function(t,e,o){"use strict";var n=o("/oeL"),i=o("CPp0"),r=o("Dqrr"),s=(o.n(r),o("5v8a")),a=(o.n(s),o("xpf9")),l=(o.n(a),o("pxC1")),c=o("z0cY");o.d(e,"a",function(){return g});var d=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=new c.a,f=p.ruta+"usuariosproveedores",m=p.ruta+"contactos",g=function(){function t(t,e){this._http=t,this._loginService=e,this._usuariosProveedores=new r.BehaviorSubject([]),this.usuariosProveedores=this._usuariosProveedores.asObservable()}return t.prototype.makeOptions=function(){var t=new i.d({Authorization:localStorage.getItem("id_token")});return new i.e({headers:t})},t.prototype.changeToken=function(t){localStorage.removeItem("id_token"),localStorage.setItem("id_token",t)},t.prototype.getUsuariosProveedores=function(){var t=this;this._http.get(f,this.makeOptions()).map(function(e){return t.changeToken(e.json().tokenId),e.json().data}).subscribe(function(e){console.log(e),t._usuariosProveedores.next(e)},function(e){return 401===e.status?t._loginService.logout(401):console.log("Error: "+e)})},t.prototype.getUsuarioProveedor=function(t){var e=this;return this._http.get(f+"/"+String(t),this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getUsuarioProveedor()",t.json().data[0]),t.json().data[0]})},t.prototype.getAllUsersProviders=function(){var t=this;this._http.get(f+"/todos",this.makeOptions()).map(function(e){return t.changeToken(e.json().tokenId),e.json().data}).subscribe(function(e){console.log(e),t._usuariosProveedores.next(e)},function(e){return 401===e.status?t._loginService.logout(401):console.log("Error: "+e)})},t.prototype.getMisEmpresas=function(){return this._http.get(f+"/misempresas",this.makeOptions()).map(function(t){return t.json()})},t.prototype.postUsuarioProveedor=function(t){var e=this;return this._http.post(f,t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),t.json().data})},t.prototype.putUsuarioProveedor=function(t){var e=this;return console.log(f),console.log(t),console.log("--------------------------"),this._http.put(f,t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),t.json()})},t.prototype.getExists=function(t){return this._http.get(f+"/existe/"+t,this.makeOptions()).map(function(t){return t.json().data})},t.prototype.getTipos=function(t){var e=this;return this._http.get(m+"/"+t+"/tipo",this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),t.json().data})},t.prototype.guardarTipo=function(t,e){var o=this;return this._http.post(m+"/"+t+"/tipo",e,this.makeOptions()).map(function(t){return o.changeToken(t.json().tokenId),t.json().data})},t}();g=d([o.i(n.Injectable)(),u("design:paramtypes",["function"==typeof(h=void 0!==i.f&&i.f)&&h||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object])],g);var h,b},l9Zo:function(t,e,o){"use strict";var n=o("/oeL"),i=o("BkNc"),r=o("bm2B"),s=o("iAID"),a=o("pxC1"),l=o("3H5c"),c=o("l76V"),d=o("D/Rt"),u=o("4FFc"),p=o("ydrT");o.d(e,"a",function(){return g});var f=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,o,n,i,r,s,a,l){this._fb=t,this._route=e,this._router=o,this._sha2=n,this._swal=i,this._cpService=r,this._loginService=s,this._permisosService=a,this._upService=l,this.nombre="",this.contDatos=-1,this.cpModificado=!1,this.sinCiudad=!1,this.inDetails=!1,this.hash=null,this.hash2=null,this.contrasValidators=!1,this.changeStatus=!1,this.permisosUsuariosProveedores=[],this.usuarioOcupado=!1,this.mainEmail=-1,this.permiso="",this.submitting=!1,this.nivelesPermisos=[{type:"Read",value:"lectura"},{type:"All",value:"todos"},{type:"None",value:""}],this.formErrors={usuario:"",nombre:"",codDepartamento:"",codPuesto:"",jefeInmediato:"",montoAutorizado:"",cp:"",colonia:"",calle:"",numeroExt:"",contrasena:"",confirmContrasena:"",contras:""},this.msgErrors={usuario:{required:"Debe de especificar un usuario.",minlength:"El usuario debe de tener minimo 6 caracteres.",formatoUserName:"El usuario tiene un formato incorrecto."},nombre:{required:"Debe de especificar un nombre.",formatoLetras:"El nombre tiene un formato incorrecto."},montoAutorizado:{required:"Debe de especificar un nombre.",formatoDecimal:"El monto tiene un formato incorrecto."},cp:{required:"Debe de especificar un código postal.",minlength:"El código postal debe de ser de 5 caracteres.",maxlength:"El código postal debe de ser de 5 caracteres.",formatoNumeros:"El código postal tiene un formato incorrecto."},colonia:{required:"Debe de especificar una colonia."},calle:{required:"Debe de especificar una calle.",formatoDireccion:"La calle tiene un formato incorrecto."},numeroExt:{required:"Debe de especificar un número exterior.",formatoDireccion:"El numero exterior tiene un formato incorrecto."},contrasena:{required:"Debe de especificar una contraseña.",minlength:"La contraseña debe de ser de 8 a 16 caracteres.",maxlength:"La contraseña debe de ser de 8 a 16 caracteres.",formatoPassword:"La contraseña debe contener mínimo una mayúscula y mínimo un número."},confirmContrasena:{required:"Debe de confirmar la contraseña.",confirmPassword:"Las contraseñas no coinciden."},contras:{confirmPassword:"Las contraseñas no coinciden."}},this.usuario=new u.a,this.catPermisosExt=this._permisosService.permisosExt,this.lastCP="",this.lastEstado=""}return t.prototype.imprimir=function(){console.log(this.form)},t.prototype.ngOnInit=function(){var t=this;this._permisosService.getMisPermisosExt().subscribe(function(e){return t.getPermissionLevel(e.data)}),this._loginService.empresa.subscribe(function(e){return t.selectedEmpresa=e}),this._loginService.getSelectedEmpresa(),this._permisosService.getPermisosExt(),this.windowSize=new p.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e}),(this.id=this._route.snapshot.params.id)?(this.bindForm(new u.a),Promise.resolve(this.initPermisos()).then(function(e){t._permisosService.getPermisosUsuarioProveedor(t.id).subscribe(function(e){return t.loadPermisos(e)})}),this.form.get("idUsuarioProveedor").setValue(this.id),this._upService.getUsuarioProveedor(this.id).subscribe(function(e){t.nombre=e.nombre,console.log("Nombre del usuario:",t.nombre),t.loadData(e)}),this.form.controls.contras.get("contraseña").setValidators(null),this.form.controls.contras.get("confirmContraseña").setValidators(null),1===this._route.snapshot.url.length?(this.titulo="Actualizar",this.form.controls.contras.valueChanges.subscribe(function(e){return t.onContrasChanged(e)})):(this.titulo="Detalles del",this.inDetails=!0)):"registrar"===this._route.snapshot.url[0].path&&(this.id=0,this.bindForm(new u.a),this.initPermisos(),this.form.get("idUsuarioProveedor").setValue(this.id),this.titulo="Registrar");var e=this.form.controls.contras;e.get("contraseña").valueChanges.subscribe(function(o){o&&e.get("contraseña").valid&&(t.hash=t._sha2.hash(o))}),e.get("confirmContraseña").valueChanges.subscribe(function(o){o&&e.get("confirmContraseña").valid&&(t.hash2=t._sha2.hash(o))});var o=this.form.get("cp");o.valueChanges.subscribe(function(e){o.valid&&t.lastCP!==e&&(t.lastCP=e,t._cpService.getCodigoPostal(e).subscribe(function(e){return t.loadCP(e.data)}))})},t.prototype.loadPermisos=function(t){for(var e=this.form.get("permisos"),o=0,n=t;o<n.length;o++){var i=n[o];!function(t){var o=e.controls.find(function(e){return e.get("codPermisoExt").value==t.permiso.codPermisoExt});o&&(o.controls.nivel.setValue(t.nivel),o.controls.id.setValue(t.id))}(i)}},t.prototype.bindForm=function(t){var e=this;this.form=this._fb.group({idUsuarioProveedor:[this.usuario.idUsuarioProveedor],codProveedor:[this.usuario.codProveedor],usuario:[this.usuario.usuario],nombre:[this.usuario.nombre,[r.c.required,d.a.formatoLetras]],cp:[this.usuario.cP,[r.c.required,r.c.minLength(5),r.c.maxLength(5),d.a.formatoNumeros]],codEstado:[this.usuario.codEstado],municipio:[this.usuario.municipio],ciudad:[this.usuario.ciudad],colonia:[this.usuario.colonia,[r.c.required]],estatus:[this.usuario.estatus,[r.c.required]],calle:[this.usuario.calle,[r.c.required,d.a.formatoDireccion]],numeroExt:[this.usuario.numeroExt,[r.c.required,d.a.formatoDireccion]],telefonos:this._fb.array([this.initDatosTelefono()]),correos:this._fb.array([this.initDatosCorreos()]),permisos:this._fb.array([]),contras:this._fb.group({"contraseña":[this.usuario.contraseña,[r.c.required,r.c.minLength(8),r.c.maxLength(16),d.a.formatoPassword]],"confirmContraseña":[null,[r.c.required]]},{validator:d.a.confirmPassword})}),this.form.valueChanges.subscribe(function(t){return e.onValueChanged(t)}),this.onValueChanged()},t.prototype.initPermisos=function(){var t=this,e=this.form.get("permisos");this.catPermisosExt.subscribe(function(o){if(o&&o.length&&e.length<o.length)for(var n=0;n<o.length;n++)e.push(t.addPermiso(o[n].codPermisoExt,o[n].descripcion,""))})},t.prototype.addPermiso=function(t,e,o){return this._fb.group({id:[0],codPermisoExt:[t],descripcion:[e],nivel:[o]})},t.prototype.initDatosTelefono=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),this._fb.group({id:[t],telefono:[e,[r.c.required,r.c.minLength(10),r.c.maxLength(10),d.a.formatoNumeros]],idTipoTelefono:[o,[r.c.required,d.a.minValue(1)]],tipo:[" "]})},t.prototype.initDatosCorreos=function(t,e,o,n){return void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),void 0===n&&(n=!1),this._fb.group({id:[t],correo:[e,[r.c.required,d.a.formatoCorreo]],idTipoCorreo:[o,[r.c.required,d.a.minValue(1)]],tipo:[""],principal:[n],occupied:[!1]})},t.prototype.addDatosTelefono=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),this.form.controls.telefonos.push(this.initDatosTelefono(t,e,o))},t.prototype.addDatosCorreo=function(t,e,o,n){void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),void 0===n&&(n=!1),this.form.controls.correos.push(this.initDatosCorreos(t,e,o,n))},t.prototype.removeDatosTelefono=function(t){this.form.controls.telefonos.removeAt(t)},t.prototype.removeDatosCorreo=function(t){this.form.controls.correos.removeAt(t)},t.prototype.loadCP=function(t){this.contDatos=t.length,this.colonias=[],(this.contDatos&&t[0].estado!==this.lastEstado||!this.contDatos)&&(this.estado=null),(!this.id||this.id>0&&this.cpModificado)&&(this.form.get("colonia").setValue(null),this.form.get("municipio").setValue(null),this.form.get("ciudad").setValue(null),null===this.estado&&this.form.get("codEstado").setValue(null));for(var e=0;e<t.length;e++)this.colonias.push(t[e].colonia);1===this.colonias.length&&this.form.get("colonia").setValue(this.colonias[0]),this.contDatos?(""==t[0].ciudad&&(this.sinCiudad=!0),this.form.get("ciudad").setValue(t[0].ciudad),this.form.get("municipio").setValue(t[0].municipio),t[0].estado!==this.lastEstado&&(this.estado=t[0].estado,this.form.get("codEstado").setValue(t[0].codEstado),this.lastEstado=t[0].estado)):this.lastEstado="",this.cpModificado=!0},t.prototype.loadData=function(t){for(var e=this.form.controls.telefonos,o=0;o<t.telefonos.length;o++)o?this.addDatosTelefono(t.telefonos[String(o)].id,t.telefonos[String(o)].telefono,t.telefonos[String(o)].idTipoTelefono):e.controls[0].setValue({id:t.telefonos[0].id,telefono:t.telefonos[0].telefono,idTipoTelefono:t.telefonos[0].idTipoTelefono,tipo:""});for(var n=this.form.controls.correos,o=0;o<t.correos.length;o++)o?(t.correos[String(o)].principal&&(this.mainEmail=t.correos[String(o)].id),this.addDatosCorreo(t.correos[String(o)].id,t.correos[String(o)].correo,t.correos[String(o)].idTipoCorreo,t.correos[String(o)].principal)):(t.correos[0].principal&&(this.mainEmail=t.correos[0].id),n.controls[0].setValue({id:t.correos[0].id,correo:t.correos[0].correo,idTipoCorreo:t.correos[0].idTipoCorreo,tipo:"",principal:t.correos[0].principal,occupied:!1}));this.form.get("idUsuarioProveedor").setValue(t.idUsuarioProveedor),this.form.get("usuario").setValue(t.usuario),this.form.get("nombre").setValue(t.nombre),this.form.get("cp").setValue(t.cP),this.form.get("codEstado").setValue(t.codEstado),this.form.get("municipio").setValue(t.municipio),this.form.get("ciudad").setValue(t.ciudad),this.form.get("colonia").setValue(t.colonia),this.form.get("calle").setValue(t.calle),this.form.get("numeroExt").setValue(t.numeroExt),this.form.get("estatus").setValue(t.estatus)},t.prototype.canDeactivate=function(){return this._swal.confirmMsg("¡ATENCIÓN!","Se perderán los cambios que no hayan sido guardados, ¿desea salir?").then(function(t){return t>0})},t.prototype.checkAvailability=function(t,e,o){if(console.log("checAvailability: ",o),o){this.mainEmail=t;var n=this.form.controls.correos;this.form.get("usuario").setValue(n.controls[t].value.correo)}else this.mainEmail==t&&(this.mainEmail=-1)},t.prototype.checkOccupiedEmails=function(){for(var t=this.form.controls.correos,e=0,o=t.controls;e<o.length;e++){if(o[e].value.occupied)return!0}return!1},t.prototype.getPermissionLevel=function(t){this.permiso=t.find(function(t){return t.permiso.descripcion?"Usuarios"===t.permiso.descripcion:"Usuarios"===t.permiso}).nivel},t.prototype.isGeneralTabValid=function(){for(var t in this.form.controls)if(this.form.get(t).invalid&&"telefonos"!==t&&"correos"!==t&&"empresas2"!==t)return!1;return!0},t.prototype.isPersonalTabValid=function(){return!(!this.form.get("telefonos").valid||!this.form.get("correos").valid)},t.prototype.onContrasChanged=function(t){var e=this.form.get("contras"),o=e.get("contraseña"),n=e.get("confirmContraseña"),i=""==o.value&&(null===n.value||""==n.value),s=""!==o.value||null!==n.value&&""!==n.value;!this.contrasValidators&&i||this.contrasValidators&&s||(this.contrasValidators&&i&&(this.contrasValidators=!1,e.clearValidators(),o.clearValidators(),o.updateValueAndValidity(),n.clearValidators(),n.updateValueAndValidity()),!this.contrasValidators&&s&&(this.contrasValidators=!0,e.setValidators(d.a.confirmPassword),o.setValidators([r.c.required,r.c.minLength(8),r.c.maxLength(16),d.a.formatoPassword]),o.updateValueAndValidity(),n.setValidators(r.c.required),n.updateValueAndValidity()))},t.prototype.onValueChanged=function(t){if(this.form){var e=this.form;for(var o in this.formErrors){this.formErrors[o]="";var n=void 0;if((n="contrasena"===o?e.get("contras").controls["contraseña"]:"confirmContrasena"===o?e.get("contras").controls["confirmContraseña"]:e.get(o))&&!n.valid&&n.dirty){var i=this.msgErrors[o];for(var r in n.errors)"currentValue"!==r&&(this.formErrors[o]||(this.formErrors[o]+=i[r]+""))}}}},t.prototype.showPassword=function(){this.changeStatus=!this.changeStatus,this.changeStatus?(document.getElementById("password").setAttribute("type","text"),document.getElementById("changeEye").className="fa fa-eye-slash fa-3"):(document.getElementById("password").setAttribute("type","password"),document.getElementById("changeEye").className="fa fa-eye fa-3")},t.prototype.isMobileSize=function(){return this.windowWidth<=425},t.prototype.onSubmit=function(){var t=this;if(!this.form.valid)return void this._swal.warning("¡ATENCIÓN!","Debe de completar correctamente la información general del usuario.");if(this.checkOccupiedEmails()&&this.form.valid)return void this._swal.warning("¡ATENCIÓN!","El correo ingresado no está disponible, por favor ingrese otro.");if(this.mainEmail>-1&&!this.form.get("usuario").value){var e=this.form.controls.correos;this.form.get("usuario").setValue(e.controls[this.mainEmail].value.correo)}this.submitting=!0,this.usuario=this.form.value,this.usuario.contraseña=this.hash,console.log("onSubmit() ",this.usuario);var o=0!=this.id?"El usuario "+this.form.controls.nombre.value.toLowerCase()+", se ha actualizado correctamente":"El usuario "+this.form.controls.nombre.value.toLowerCase()+", se ha registrado correctamente";this.id>0?(console.log("updateSubmit() ",this.usuario),this._upService.putUsuarioProveedor(this.usuario).subscribe(function(e){return t._swal.success("¡ÉXITO!",o,2e3)},function(e){t.submitting=!1,t._swal.error(e)},function(){return t._router.navigate(["../"],{relativeTo:t._route})})):(console.log("postSubmit() ",this.usuario),this._upService.postUsuarioProveedor(this.usuario).subscribe(function(e){return t._swal.success("¡ÉXITO!",o,2e3)},function(e){t.submitting=!1,t._swal.error(e)},function(){return t._router.navigate(["../"],{relativeTo:t._route})}))},t}();g=f([o.i(n.Component)({selector:"app-formulario",template:o("IB+J"),styles:[o("oE7F")]}),m("design:paramtypes",["function"==typeof(h=void 0!==r.d&&r.d)&&h||Object,"function"==typeof(b=void 0!==i.a&&i.a)&&b||Object,"function"==typeof(v=void 0!==i.b&&i.b)&&v||Object,"function"==typeof(y=void 0!==p.a&&p.a)&&y||Object,"function"==typeof(x=void 0!==p.b&&p.b)&&x||Object,"function"==typeof(w=void 0!==s.a&&s.a)&&w||Object,"function"==typeof(C=void 0!==a.a&&a.a)&&C||Object,"function"==typeof(E=void 0!==l.a&&l.a)&&E||Object,"function"==typeof(S=void 0!==c.a&&c.a)&&S||Object])],g);var h,b,v,y,x,w,C,E,S},mMnu:function(t,e,o){"use strict";var n=o("/oeL"),i=o("bm2B"),r=o("l76V"),s=o("D/Rt"),a=o("ydrT");o.d(e,"a",function(){return d});var l=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,o){var i=this;this._service=t,this._swal=e,this._fb=o,this.onInsert=new n.EventEmitter,this.onRemove=new n.EventEmitter,this.tipos=[],this.phonePipeFlag=!0,this.modifyPhonePipeFlag=!0,this.formErrors={descripcion:"",idTipoTelefono:""},this.msgErrors={descripcion:{required:"Debe de especificar un usuario"},idTipoTelefono:{required:"Debe de especificar un tipo de telefono",minValue:"Especifique un nuevo tipo de teléfono"}},this._service.getTipos("telefonos").subscribe(function(t){t&&(i.tipos=t,i.telefonosForm.get("idTipoTelefono").value>0&&i.telefonosForm.get("tipo").setValue(i.tipos.find(function(t){return t.idTipoTelefono==i.telefonosForm.get("idTipoTelefono").value}).descripcion))},function(t){return i._swal.error(t)}),this.bindForm()}return t.prototype.ngOnInit=function(){var t=this;this.windowSize=new a.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e})},t.prototype.bindForm=function(){var t=this;this.tipoForm=this._fb.group({idTipoTelefono:[null,s.a.minValue(1)],descripcion:[null,i.c.compose([i.c.required,s.a.formatoDescripcion])]}),this.tipoForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.tipoForm){var e=this.tipoForm;for(var o in this.formErrors){this.formErrors[o]="";var n=e.get(o);if(n&&!n.valid&&n.dirty){var i=this.msgErrors[o];for(var r in n.errors)"currentValue"!==r&&(this.formErrors[o]||(this.formErrors[o]+=i[r]+""))}}}},t.prototype.remove=function(){this.onRemove.emit(this.contador-1)},t.prototype.addNew=function(){if(this.telefonosForm.invalid)return void this._swal.warning("ATENCIÓN","Favor de completar correctamente la información.",2e3);this.onInsert.emit()},t.prototype.addTipo=function(){var t=this;if(!this.tipoForm.valid)return void this._swal.warning("ATENCIÓN","Favor de completar correctamente la información.",2e3);console.log("tipoForm:",this.tipoForm.value),this._service.guardarTipo("telefonos",this.tipoForm.value).subscribe(function(e){return t._service.getTipos("telefonos").subscribe(function(e){return Promise.resolve(t.tipos=e).then(function(e){return t.telefonosForm.get("idTipoTelefono").setValue(t.tipos[t.tipos.length-1].idTipoTelefono)})},function(e){return t._swal.error(e)})},function(e){return t._swal.error(e)},function(){return t.tipoForm.reset()})},t.prototype.isMobileSize=function(){return this.windowWidth<=991},t.prototype.isTabletSize=function(){return this.windowWidth<=768},t}();l([o.i(n.Input)("group"),c("design:type","function"==typeof(u=void 0!==i.e&&i.e)&&u||Object)],d.prototype,"telefonosForm",void 0),l([o.i(n.Input)("multiple"),c("design:type",Number)],d.prototype,"contador",void 0),l([o.i(n.Input)("size"),c("design:type",Number)],d.prototype,"length",void 0),l([o.i(n.Input)(),c("design:type",Boolean)],d.prototype,"inModal",void 0),l([o.i(n.Input)(),c("design:type",Boolean)],d.prototype,"inDetails",void 0),l([o.i(n.Output)(),c("design:type",Object)],d.prototype,"onInsert",void 0),l([o.i(n.Output)(),c("design:type",Object)],d.prototype,"onRemove",void 0),d=l([o.i(n.Component)({selector:"app-formulario-telefono",template:o("GBmC"),styles:[o("tK29")]}),c("design:paramtypes",["function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(f=void 0!==a.b&&a.b)&&f||Object,"function"==typeof(m=void 0!==i.d&&i.d)&&m||Object])],d);var u,p,f,m},oE7F:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}#listaEmpresas{border:1px solid #ccc;font-size:.75rem;height:160px;overflow-y:scroll;overflow:auto;padding-left:10px;padding-top:10px}.clearfix{margin-bottom:.75rem}.col{padding-left:0}.col1,.col2{display:inline-block;vertical-align:top;width:49%}.col1>section>label.col-form-label,.col2>section>label.col-form-label{font-size:.7em}.container.card{padding:5px 20px 0 27px}.inner-addon{position:relative}.inner-addon .fa{padding:11px;pointer-events:all;position:absolute}.invalidTab{color:crimson}.left-addon .fa{right:20px}.margen{margin-top:2px}.noValido.ng-touched{border-color:#d44a4b}.r-btn>input[type=radio]{border:1px solid #ccc;padding:5px 10px 5px 10px;clip:rect(0,0,0,0);pointer-events:none;position:absolute}.tab{margin-bottom:16px}.valido{border-color:#5cb85c}.validTab{color:#5cb85c}@media screen and (min-width:991px){.col-sm-3{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important}}@media screen and (max-width:768px){.col1,.col2{width:100%}}@media screen and (max-width:575px){.col-sm-3{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;margin-left:-15px;margin-right:-15px}}@media screen and (max-width:425px){a,input[type=submit],label{font-size:.8em}input[type=password],input[type=text],select{font-size:.7em}div small{font-size:.65em}section.clearfix{margin-top:-5%}.col-sm-3{margin-left:0}.tab{margin-top:32px}.inner-addon .fa{padding:7px}.left-addon .fa{right:22px}}@media screen and (max-width:375px){a,input[type=submit],label{font-size:.75em}}@media screen and (max-width:320px){a,input[type=submit],label{font-size:.7em}}",""]),t.exports=t.exports.toString()},tK29:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}.margen{margin-top:4px}button[type=submit].notInModal{margin-right:120px}button[type=submit].inModal{margin-right:79px}#nuevoTipo.notInModal{margin-left:603px}#nuevoTipo.inModal{margin-left:459px}#tipo{width:100%}.alineado{margin-left:9px}#nuevoTipo.offset-sm-7{margin-left:60.093333%;position:absolute}@media screen and (max-width:991px){button[type=submit],button[type=submit].inModal,button[type=submit].notInModal{margin-right:0}#guardarTipo,#nuevoTipo{margin-top:10px}#nuevoTelefono{margin-right:15px}#nuevoTelefono,select{margin-top:10px}#nuevoTipo{margin-left:0}}@media (max-width:575px){.col-sm-10{-webkit-box-flex:0;-ms-flex:0 0 75%;flex:0 0 75%;max-width:68%}}@media screen and (max-width:425px){.margen{margin-bottom:5px}button,label{font-size:.8em}input,select{font-size:.7em}div small{font-size:.65em}div span,section.form-group{margin-top:-5%}}@media screen and (max-width:375px){button,label{font-size:.75em}}@media screen and (max-width:320px){button,label{font-size:.7em}}",""]),t.exports=t.exports.toString()},vWeH:function(t,e){t.exports='<section class="encabezado animated fadeIn">\n\t<title>| Catálogo de usuarios</title>\n\t<br>\n\t<strong><h5>CATÁLOGO DE USUARIOS</h5></strong>\n\t<hr>\n</section>\n<section class="contenedor animated fadeIn fast">\n\t<section style="margin-bottom: 5px;">\n\t\t<article class="izquierda inner-addon left-addon rounded-circle buscar">\n\t\t\t<i class="fa fa-search" aria-hidden="true" [ngClass]="{\'focused\':focusedOnSearch}"></i>\n\t\t\t<input type="text" autofocus class="form-control" placeholder="Buscar" [(ngModel)]="buscador" (keyup)="0" [ngClass]="{\'searchFocused\':focusedOnSearch}"\n\t\t\t\t(blur)="focusedOnSearch=false" (focus)="focusedOnSearch=true">\n\t\t</article>\n\t\t<article class="derecha" *ngIf="permiso===\'todos\'">\n\t\t\t<button type="button" class="btn btn-outline-success" [ngClass]="{\'btn-sm\': isMobileSize()}" routerLink="registrar">\n\t\t\t\t<i class="fa fa-user-plus fa-lg" aria-hidden="true"></i>\n\t\t\t\t<span class="btnNuevo">Nuevo</span>\n\t\t\t</button>\n\t\t</article>\n\t</section>\n\t<article class="fuenteSmartphone" *ngIf="usuarios | async">\n\t\t\x3c!--  | mostrarPermitidos:selectedEmpresa | filtrarUsuario:buscador --\x3e\n\t\t<table-sortable [columns]="columnas"\n\t\t\t\t\t\t[data]="usuarios | async | mostrarActivos | filtrarUsuarioProveedor:buscador | formatoFechas"\n\t\t\t\t\t\t[options]="options"\n\t\t\t\t\t\t[sort]="order"\n\t\t\t\t\t\t[permiso]="permiso"\n\t\t\t\t\t\t[design]="design"\n\t\t\t\t\t\t(onDelete)="delete($event)"\n\t\t\t\t\t\t(onDetails)="details($event)"\n\t\t\t\t\t\t(onEdit)="edit($event)">\n\t\t\t<i class="fa fa-spinner fa-pulse fa-2x fa-fw" aria-hidden="true"></i>\n\t\t</table-sortable>\n\t</article>\n</section>'},vg3Z:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,".contenedor>section{margin-bottom:5px}.derecha{text-align:right}.fa.fa-search{color:#000}.focused{color:#87cefa!important}.izquierda{float:left}.inner-addon{position:relative}.inner-addon .fa{padding:10px 8.5px;pointer-events:none;position:absolute}.left-addon input{padding-left:26px}.left-inner-addon input{padding-left:30px}.left-addon .fa{left:4px}.searchFocused{padding-left:34px!important}button[type=button]{border-radius:50px}input{margin-right:60px}input[type=text]{width:20px;transition:width .5s ease-in-out;border-radius:100px}input[type=text]:focus{width:170px}@media screen and (max-width:425px){.buscar{margin-bottom:5px}.btnNuevo{display:none}.fa.fa-search,.fuenteSmartphone{font-size:.8em}input[type=text]{font-size:.7em}input[type=text]:focus{width:100px}.left-addon input{padding-left:20px}.inner-addon .fa{padding:10px 7px;pointer-events:none;position:absolute}.searchFocused{padding-left:28px!important}}@media screen and (max-width:375px){.fuenteSmartphone{font-size:.75em}}@media screen and (max-width:320px){.fuenteSmartphone{font-size:.7em}}",""]),t.exports=t.exports.toString()},zpxJ:function(t,e){t.exports='<section [formGroup]="correosForm" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t<label class="col-form-label" [ngClass]="{\'col-sm-12\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t<span *ngIf="length>1" class="badge badge-pill badge-info">{{contador}}</span>\n\t\t<i class="fa fa-envelope fa-fw" aria-hidden="true"></i><strong> Correo(s):</strong>\n\t\t<div *ngIf="length > 1 && isMobileSize() && !inDetails" class="pull-right">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t</label>\n\t<article [ngClass]="{\'col-sm-12\': isMobileSize(),\n\t\t\t\t\t\t\'px-0 ml-3 col-sm-3\': !isMobileSize() && !inDetails,\n\t\t\t\t\t\t\'col\': !isMobileSize() && inDetails,\n\t\t\t\t\t\t\'has-warning\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && correoOcupado && correosForm.get(\'correo\').value.toLowerCase() !== previousEmail.toLowerCase(),\n\t\t\t\t\t\t\'has-danger\': !correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty),\n\t\t\t\t\t\t\'has-success\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails&& (!correoOcupado || correosForm.get(\'correo\').value.toLowerCase() === previousEmail.toLowerCase())}">\n\t\t<input class="form-control" type="text" formControlName="correo" placeholder="Ej: correo@dominio.com" [readonly]="inDetails"\n\t\t\t[ngClass]="{\'form-control-warning\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && correoOcupado && correosForm.get(\'correo\').value.toLowerCase() !== previousEmail.toLowerCase(),\n\t\t\t\t\t\t\'form-control-danger\': !correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty),\n\t\t\t\t\t\t\'form-control-success\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && (!correoOcupado || correosForm.get(\'correo\').value.toLowerCase()===previousEmail.toLowerCase())}">\n\t\t<div *ngIf="correosForm.get(\'correo\').hasError(\'required\') && correosForm.get(\'correo\').dirty" class="alert alert-danger">\n\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo es obligatorio!</small>\n\t\t</div>\n\t\t<div *ngIf="correoOcupado && correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty)" class="alert alert-warning">\n\t\t\t<small><i class="fa fa-warning"></i>&nbsp; El correo electrónico ya esta siendo usado por otro usuario!</small>\n\t\t</div>\n\t</article>\n\t<article [ngClass]="{\'col-sm-12\':isMobileSize(),\'px-0 ml-3 col-sm-3\':!isMobileSize(),\n\t\t\t\t\t\t \'has-danger\':!correosForm.get(\'idTipoCorreo\').valid && (correosForm.get(\'idTipoCorreo\').touched||correosForm.get(\'idTipoCorreo\').dirty),\n\t\t\t\t\t\t \'has-success\':correosForm.get(\'idTipoCorreo\').valid && (correosForm.get(\'idTipoCorreo\').touched||correosForm.get(\'idTipoCorreo\').dirty)}">\n\t\t<select class="custom-select form-control" formControlName="idTipoCorreo" *ngIf="!inDetails"\n\t\t\t[ngClass]="{\'form-control-sm\':windowWidth<=450}">\n\t\t\t<option *ngIf="correosForm.get(\'idTipoCorreo\').pristine&&!correosForm.get(\'idTipoCorreo\').value" selected value="null">\n\t\t\t\tSeleccione un tipo\n\t\t\t</option>\n\t\t\t<option *ngFor="let t of tipos | orderByDescription: [\'descripcion\']" value="{{t.idTipoCorreo}}">{{t.descripcion | titleCase}}</option>\n\t\t\t<option value="-1">*Nuevo tipo de correo</option>\n\t\t</select>\n\t\t<input type="text" class="form-control" *ngIf="inDetails" formControlName="tipo" readonly [ngClass]="{\'margen\': windowWidth <= 780}">\n\t</article>\n\t<span *ngIf="contador===length && !isMobileSize() && !inDetails" id="nuevoCorreo" [ngClass]="{\'ml-auto mr-3\':contador<2,\'ml-2\':contador>1}">\n\t\t<span class="float-right">\n\t\t\t<button type="button" class="btn btn-outline-primary" (click)="addNew()" placement="right" [disabled]="correosForm.invalid || correoOcupado">\n\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i>\n\t\t\t</button>\n\t\t</span>\n\t</span>\n\t<div *ngIf="length > 1 && !isMobileSize() && !inDetails" class="ml-auto mr-3">\n\t\t<span class="close" (click)="remove()">&times;</span>\n\t</div>\n\t<section *ngIf="correosForm.get(\'idTipoCorreo\').value<0" class="col-12">\n\t\t<form [formGroup]="tipoForm" (submit)="addTipo()" novalidate class="form-inline" [ngClass]="{\'justify-content-center\': isMobileSize()}">\n\t\t\t<div *ngIf="!isMobileSize()" class="col-sm-4 offset-sm-7 row">\n\t\t\t\t<article class="px-0 offset-1 col-sm-7" id="nuevoTipo" [ngClass]="{\'has-danger\':formErrors.descripcion,\'has-success\':!formErrors.descripcion}">\n\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" placeholder="Nuevo tipo...">\n\t\t\t\t</article>\n\t\t\t\t<article class="col-sm-2 ml-2" id="guardarTipo">\n\t\t\t\t\t<button type="submit" class="btn btn-success" [disabled]="tipoForm.invalid" [ngClass]="{\'inModal\':inModal,\'notInModal\':!inModal}">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t\t<div *ngIf="isMobileSize()" class="px-0 col-sm-12 row">\n\t\t\t\t<article class="pl-0 col-sm-10" id="nuevoTipo">\n\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" placeholder="Nuevo tipo...">\n\t\t\t\t</article>\n\t\t\t\t<article class="ml-auto" id="guardarTipo">\n\t\t\t\t\t<button type="submit" class="btn btn-success" [disabled]="tipoForm.invalid" [ngClass]="{\'inModal\':inModal,\'notInModal\':!inModal}">\n\t\t\t\t\t\t<i class="fa fa-save"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</article>\n\t\t\t</div>\n\t\t</form>\n\t</section>\n\x3c!--...................................................................... Principal --\x3e\n\t<article id="correoPrincipal" class="pl-3" [ngClass]="{\'offset-4\':!isMobileSize()}" *ngIf="(!hasMainEmail || isMainEmail)">\n\t\t<label class="custom-control custom-checkbox" *ngIf="!inDetails">\n\t\t\t<input type="checkbox" class="custom-control-input" formControlName="principal" (change)="checked($event)">\n\t\t\t<span class="custom-control-indicator"></span>\n\t\t\t<span class="custom-control-description">Usar este correo como nombre de usuario.</span>\n\t\t</label>\n\t\t<span *ngIf="inDetails"></span>\n\t</article>\n\t<span *ngIf="contador===length && isMobileSize() && !inDetails" id="nuevoCorreo" class="float-right">\n\t\t<span>\n\t\t\t<button type="button" class="btn btn-outline-primary"\n\t\t\t\t(click)="addNew()"\n\t\t\t\t[disabled]="correosForm.invalid || correoOcupado"\n\t\t\t\t[ngClass]="{\'btn-sm\':windowWidth<=450}">\n\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i> Nuevo\n\t\t\t</button>\n\t\t</span>\n\t</span>\n</section>'}});