webpackJsonp([6],{"1G7B":function(t,e,o){"use strict";o.d(e,"a",function(){return r});var r=function(){function t(){this.codPuesto=0,this.departamento="",this.usuarios=0}return t}()},"1bcL":function(t,e,o){"use strict";var r=o("/oeL"),n=o("BkNc"),i=o("1Gqf");o.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.router=t,this._swal=e}return t.prototype.canDeactivate=function(t,e,o,r){var n=this;return!(!t.form.pristine&&"/login"!==r.url&&!t.submitting)||t.canDeactivate().then(function(t){return!!t||(n.router.navigate([o.url]),!1)})},t}();l=s([o.i(r.Injectable)(),a("design:paramtypes",["function"==typeof(c=void 0!==n.b&&n.b)&&c||Object,"function"==typeof(u=void 0!==i.a&&i.a)&&u||Object])],l);var c,u},"6Xzm":function(t,e,o){"use strict";var r=o("/oeL"),n=o("BkNc"),i=o("qnFi"),s=o("pxC1"),a=o("EBN1"),l=o("Bxd6"),c=o("3H5c"),u=o("ydrT");o.d(e,"a",function(){return m});var d=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=function(){function t(t,e,o,r,n,i,s,a){this._deptoService=t,this._puestosService=e,this._service=o,this.loginService=r,this._swal=n,this._router=i,this._route=s,this._permisosService=a,this.currentPage=1,this.buscador="",this.permiso="",this.focusedOnSearch=!1,this.columnas=[{display:"#",variable:"idUsuario",showMobile:!0,showTablet:!0},{display:"Usuario",variable:"usuario",showMobile:!0,showTablet:!0},{display:"Nombre",variable:"nombre",showTablet:!0},{display:"Ultimo Acceso",variable:"ultimaActividad",isDate:!0}],this.order={column:"idUsuario",index:!1,descending:!0},this.options={details:!0,edit:!0,delete:!0},this.usuarios=this._service.usuarios}return t.prototype.ngOnInit=function(){var t=this;this._permisosService.getMisPermisos().subscribe(function(e){return t.getPermissionLevel(e.data)}),this.loginService.empresa.subscribe(function(e){return t.selectedEmpresa=e}),this.loginService.getSelectedEmpresa(),this.windowSize=new u.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e}),this._service.getUsuarios()},t.prototype.getPermissionLevel=function(t){this.permiso=t.find(function(t){return"Usuarios"===t.permiso.descripcion}).nivel,this.permiso||this._router.navigateByUrl("home")},t.prototype.details=function(t){this._router.navigate([t.idUsuario+"/detalles"],{relativeTo:this._route})},t.prototype.edit=function(t){this._router.navigate([""+t.idUsuario],{relativeTo:this._route})},t.prototype.delete=function(t){var e=this,o="¿Está seguro(a) de querer eliminar al usuario:\n"+t.usuario+"?";this._swal.confirmMsg("¿DESEA ELIMINAR?",o).then(function(o){o>0?(t.estatus="I",t.permisos=null,e._service.updateUsuario(t).subscribe(function(t){return e._swal.success("¡Eliminado!","Se ha eliminado correctamente.",3e3)},function(t){return e._swal.error(t)})):o||e._swal.danger("¡Cancelado!","No se realizaron cambios.",3e3)})},t.prototype.isMobileSize=function(){return this.windowWidth<=425},t.prototype.isTabletSize=function(){return this.windowWidth<=768},t}();m=d([o.i(r.Component)({selector:"app-catalogo",template:o("JHmU"),styles:[o("GVMw")]}),p("design:paramtypes",["function"==typeof(f=void 0!==i.a&&i.a)&&f||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(h=void 0!==l.a&&l.a)&&h||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(v=void 0!==u.b&&u.b)&&v||Object,"function"==typeof(y=void 0!==n.b&&n.b)&&y||Object,"function"==typeof(E=void 0!==n.a&&n.a)&&E||Object,"function"==typeof(C=void 0!==c.a&&c.a)&&C||Object])],m);var f,g,h,b,v,y,E,C},"9Q5K":function(t,e,o){"use strict";o.d(e,"a",function(){return r});var r=function(){function t(){this.fechaAlta=new Date,this.fechaBaja=new Date,this.fechaBloqueo=new Date,this.ultimaActividad=new Date,this.estatus="A",this.intentos=0,this.fechaFormato=""}return t}()},"9o9c":function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}#listaEmpresas{border:1px solid #ccc;font-size:.75rem;height:160px;overflow-y:scroll;overflow:auto;padding-left:10px;padding-top:10px}.clearfix{margin-bottom:.75rem}.col{padding-left:0}.col1,.col2{display:inline-block;vertical-align:top;width:49%}.col1>section>label.col-form-label,.col2>section>label.col-form-label{font-size:.7em}.container.card{padding:5px 20px 0 27px}.inner-addon{position:relative}.inner-addon .fa{padding:11px;pointer-events:all;position:absolute}.invalidTab{color:crimson}.left-addon .fa{right:20px}.margen{margin-top:2px}.noValido.ng-touched{border-color:#d44a4b}.r-btn>input[type=radio]{border:1px solid #ccc;padding:5px 10px 5px 10px;clip:rect(0,0,0,0);pointer-events:none;position:absolute}.tab{margin-bottom:16px}.valido{border-color:#5cb85c}.validTab{color:#5cb85c}@media screen and (max-width:768px){.col1,.col2{width:100%}}@media screen and (max-width:425px){a,input[type=submit],label{font-size:.8em}input[type=password],input[type=text],select{font-size:.7em}div small{font-size:.65em}section.clearfix{margin-top:-5%}span.invalidTab,span.validTab{font-size:.9831em}.tab{margin-top:32px}.inner-addon .fa{padding:7px}.left-addon .fa{right:22px}}@media screen and (max-width:375px){a,input[type=submit],label{font-size:.75em}span.invalidTab,span.validTab{font-size:.7856em}}@media screen and (max-width:320px){a,input[type=submit],label{font-size:.7em}span.invalidTab,span.validTab{font-size:.5687em}}",""]),t.exports=t.exports.toString()},AVlK:function(t,e,o){"use strict";var r=o("/oeL");o.d(e,"a",function(){return s});var n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=n([o.i(r.Component)({selector:"app-detalles",template:o("CNEP"),styles:[o("pVpE")]}),i("design:paramtypes",[])],s)},"CEb+":function(t,e,o){"use strict";o.d(e,"a",function(){return r});var r=function(){function t(){this.codDepartamento=0,this.estatus="A",this.usuarios=0}return t}()},CNEP:function(t,e){t.exports='<section class="encabezado">\r\n\t<br>\r\n\t<strong><h4>DETALLES DEL USUARIO:</h4></strong>\r\n\t<hr>\r\n</section>\r\n<section id="modal" class="contenedor">\r\n\t<section id="tabs">\r\n\t\t<article>\r\n\t\t\t<ul class="nav nav-tabs" role="tablist">\r\n\t\t\t  <li class="nav-item">\r\n\t\t\t    <a class="nav-link active" data-toggle="tab" href="#informacion" role="tab">Información</a>\r\n\t\t\t  </li>\r\n\t\t\t</ul>\r\n\t\t</article>\r\n\t</section>\r\n\t<section class="tab-content" id="contenido-tabs">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- I N F O R M A C I Ó N --\x3e\r\n\t\t<article role="tabpanel" class="tab-pane fade active in fuenteDetalles" id="informacion" aria-labelledby="informacion-tab" aria-expanded="true">\r\n\t\t\t<div class="table-responsive">\r\n\t\t\t<table class="table table-hover table-sm">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr class="btn-primary disabled">\r\n\t\t\t\t\t\t<th class="center-text" colspan="2">DATOS GENERALES</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\t\t\t\t\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nombre:</th>\r\n\t\t\t\t\t\t<td class="center-left">Christian Alvarado</td>\t\t\t\t\t\t\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nombre de Usuario:</th>\r\n\t\t\t\t\t\t<td class="center-left">ChrisSoftwee10</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th >RFC:</th>\r\n\t\t\t\t\t\t<td class="center-left">VECJ880326XXX</td>\r\n\t\t\t\t\t</tr>\t\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th >Jefe Inmediato:</th>\r\n\t\t\t\t\t\t<td class="center-left">Carlos Gamboa</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\t\t\t\r\n\t\t\t\t\t\t<th>Código postal:</th>\r\n\t\t\t\t\t\t<td class="center-left">80100</td>\r\n\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<tr>\t\t\t\r\n\t\t\t\t\t\t<th >Estado:</th>\r\n\t\t\t\t\t\t<td class="center-left">Sinaloa</td>\t\t\t\t\t\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\t\t\t\r\n\t\t\t\t\t\t<th >Ciudad:</th>\r\n\t\t\t\t\t\t<td class="center-left">Culiacan</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\t\t\t\r\n\t\t\t\t\t\t<th>Colonia:</th>\r\n\t\t\t\t\t\t<td class="center-left">Colonia 1</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Calle</th>\r\n\t\t\t\t\t\t<td class="center-left">Calle 1</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>N° Exterior:</th>\r\n\t\t\t\t\t\t<td class="center-left">1057</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Estatus:</th>\r\n\t\t\t\t\t\t<td class="center-left">Activo</td>\r\n\t\t\t\t\t</tr>\t\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Telefono:</th>\r\n\t\t\t\t\t\t<td class="center-left">6721117986</td>\r\n\t\t\t\t\t</tr>\t\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Correo:</th>\r\n\t\t\t\t\t\t<td class="center-left">cris_ales@live.com.mx</td>\r\n\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t</section>\r\n</section>'},"E/vw":function(t,e,o){"use strict";var r=o("/oeL"),n=o("bm2B"),i=o("Bxd6"),s=o("D/Rt"),a=o("ydrT");o.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,o){var n=this;this._fb=t,this._swal=e,this._usuariosService=o,this.onInsert=new r.EventEmitter,this.onRemove=new r.EventEmitter,this.selected=new r.EventEmitter,this.tipos=[],this.isMainEmail=!1,this.correoOcupado=!1,this.previousEmail="",this.formErrors={idTipoCorreo:"",descripcion:""},this.msgErrors={idTipoCorreo:{minValue:"Especifique un nuevo tipo de correo"},descripcion:{required:"Debe de especificar un tipo de correo"}},this._usuariosService.getTipos("correos").subscribe(function(t){t&&(n.tipos=t,n.correosForm.get("idTipoCorreo").value>0&&n.correosForm.get("tipo").setValue(n.tipos.find(function(t){return t.idTipoCorreo==n.correosForm.get("idTipoCorreo").value}).descripcion))},function(t){return n._swal.error(t)}),this.bindForm()}return t.prototype.ngOnInit=function(){var t=this;this.previousEmail=this.correosForm.get("correo").value,this.correosForm.get("principal").value&&(this.isMainEmail=!0,this.selected.emit(!0)),this.correosForm.get("correo").valueChanges.subscribe(function(e){e&&t.correosForm.get("correo").valid&&t._usuariosService.getExists(e.toLowerCase()).subscribe(function(e){e?(t.correoOcupado=!0,t.correosForm.get("occupied").setValue(!0)):(t.correoOcupado=!1,t.correosForm.get("occupied").setValue(!1))})}),this.windowSize=new a.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e})},t.prototype.bindForm=function(){var t=this;this.tipoForm=this._fb.group({idTipoCorreo:[0],descripcion:[null,[n.c.required,s.a.formatoDescripcion]]}),this.tipoForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.tipoForm){var e=this.tipoForm;for(var o in this.formErrors){this.formErrors[o]="";var r=e.get(o);if(r&&!r.valid&&r.dirty){var n=this.msgErrors[o];for(var i in r.errors)"currentValue"!==i&&(this.formErrors[o]||(this.formErrors[o]+=n[i]+""))}}}},t.prototype.remove=function(){this.isMainEmail&&(this.isMainEmail=!1,this.selected.emit(!1)),this.onRemove.emit(this.contador-1)},t.prototype.addNew=function(){if(this.correosForm.invalid)return void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente la información.");this.onInsert.emit()},t.prototype.addTipo=function(){var t=this;if(!this.tipoForm.valid)return void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente la información.");console.log("tipoForm:",this.tipoForm.value),this._usuariosService.guardarTipo("correos",this.tipoForm.value).subscribe(function(e){return t._usuariosService.getTipos("correos").subscribe(function(e){return Promise.resolve(t.tipos=e).then(function(e){return t.correosForm.get("idTipoCorreo").setValue(t.tipos[t.tipos.length-1].idTipoCorreo)})},function(e){return t._swal.error(e)})},function(e){return t._swal.error(e)},function(){return t.tipoForm.reset()})},t.prototype.checked=function(t){this.correosForm.get("principal").value?(this.isMainEmail=!0,this.selected.emit(!0)):(this.isMainEmail=!1,this.selected.emit(!1))},t.prototype.isMobileSize=function(){return this.windowWidth<=991},t}();l([o.i(r.Input)("group"),c("design:type","function"==typeof(d=void 0!==n.e&&n.e)&&d||Object)],u.prototype,"correosForm",void 0),l([o.i(r.Input)("multiple"),c("design:type",Number)],u.prototype,"contador",void 0),l([o.i(r.Input)("size"),c("design:type",Number)],u.prototype,"length",void 0),l([o.i(r.Input)(),c("design:type",Boolean)],u.prototype,"inModal",void 0),l([o.i(r.Input)(),c("design:type",Boolean)],u.prototype,"hasMainEmail",void 0),l([o.i(r.Input)(),c("design:type",Boolean)],u.prototype,"inDetails",void 0),l([o.i(r.Output)(),c("design:type",Object)],u.prototype,"onInsert",void 0),l([o.i(r.Output)(),c("design:type",Object)],u.prototype,"onRemove",void 0),l([o.i(r.Output)(),c("design:type",Object)],u.prototype,"selected",void 0),u=l([o.i(r.Component)({selector:"app-formulario-correo",template:o("V1OV"),styles:[o("Su9D")]}),c("design:paramtypes",["function"==typeof(p=void 0!==n.d&&n.d)&&p||Object,"function"==typeof(m=void 0!==a.b&&a.b)&&m||Object,"function"==typeof(f=void 0!==i.a&&i.a)&&f||Object])],u);var d,p,m,f},EBN1:function(t,e,o){"use strict";var r=o("/oeL"),n=o("CPp0"),i=o("Dqrr"),s=(o.n(i),o("5v8a")),a=(o.n(s),o("xpf9")),l=(o.n(a),o("pxC1")),c=o("z0cY");o.d(e,"a",function(){return g});var u=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=new c.a,m=p.ruta+"puestos",f=p.ruta+"puesto",g=function(){function t(t,e){this._http=t,this._loginService=e,this._puestos=new i.BehaviorSubject([]),this.puestos=this._puestos.asObservable()}return t.prototype.makeOptions=function(){var t=new n.d({Authorization:localStorage.getItem("id_token")});return new n.e({headers:t})},t.prototype.changeToken=function(t){localStorage.removeItem("id_token"),localStorage.setItem("id_token",t)},t.prototype.getPuesto=function(t){var e=this;return this._http.get(m+"/"+String(t),this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getPuesto()",t.json().data[0]),t.json().data[0]})},t.prototype.getPuestos=function(){return this._http.get(m,this.makeOptions()).map(function(t){return t.json().data})},t.prototype.getPuestosEmpresa=function(t){return this._http.get(m+"/empresa/"+t,this.makeOptions()).map(function(t){return t.json().data})},t.prototype.postPuesto=function(t){return this._http.post(m,t,this.makeOptions()).map(function(t){return t.json()})},t.prototype.putPuesto=function(t){var e=this;return console.log("putPuesto():",t),this._http.put(m,t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),t.json()})},t.prototype.getPuestosDepartamentos=function(t){var e=this;return this._http.get(m+"/"+String(t),this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getPuestosDepartamentos()",t.json().data),t.json().data})},t.prototype.getPuestosEmpresaVoid=function(t){var e=this;this._http.get(m+"/empresa/"+t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getPuestosVoid():",t.json().data),t.json().data}).subscribe(function(t){return e._puestos.next(t)},function(t){return 401===t.status?e._loginService.logout(401):console.log("Error: "+t)})},t.prototype.getPuesto2=function(t){var e=this;return this._http.get(f+"/"+t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getPuesto2()",t.json().data[0]),t.json().data[0]})},t.prototype.getPuestoObservable=function(t){var e=this;return this._http.get(f+"/"+t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),console.log("getPuestoObservable()",t.json().data),t.json().data})},t.prototype.deletePuesto=function(t){var e=this;return this._http.delete(m+"/"+t,this.makeOptions()).map(function(t){return e.changeToken(t.json().tokenId),t.json()})},t.prototype.getExists=function(t,e,o){return this._http.get(m+"/existe/"+t+"/"+e+"/"+o,this.makeOptions()).map(function(t){return t.json().data})},t}();g=u([o.i(r.Injectable)(),d("design:paramtypes",["function"==typeof(h=void 0!==n.f&&n.f)&&h||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object])],g);var h,b},ExPy:function(t,e,o){"use strict";var r=o("/oeL"),n=o("BkNc"),i=o("bm2B"),s=o("iAID"),a=o("qnFi"),l=o("SIGK"),c=o("pxC1"),u=o("3H5c"),d=o("EBN1"),p=o("Bxd6"),m=o("D/Rt"),f=o("CEb+"),g=o("1G7B"),h=o("9Q5K"),b=o("ydrT");o.d(e,"a",function(){return E});var v=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t,e,o,r,n,i,s,a,l,c,u,d){var p=this;this._fb=t,this._route=e,this._router=o,this._sha2=r,this._swal=n,this._cpService=i,this._deptosService=s,this._empresasService=a,this._loginService=l,this._permisosService=c,this._puestosService=u,this._usuariosService=d,this.departamentos=[],this.nombre="",this.contDatos=-1,this.cpModificado=!1,this.sinCiudad=!1,this.inDetails=!1,this.hash=null,this.hash2=null,this.contrasValidators=!1,this.changeStatus=!1,this.permisosUsuarios=[],this.empresaSelected=!1,this.usuarioOcupado=!1,this.mainEmail=-1,this.permiso="",this.isCollapsed=!0,this.submitting=!1,this.nivelesPermisos=[{type:"Read",value:"lectura"},{type:"All",value:"todos"},{type:"None",value:""}],this.formErrors={usuario:"",nombre:"",codDepartamento:"",codPuesto:"",jefeInmediato:"",montoAutorizado:"",cp:"",colonia:"",calle:"",numeroExt:"",contrasena:"",confirmContrasena:"",contras:""},this.msgErrors={usuario:{required:"Debe de especificar un usuario.",minlength:"El usuario debe de tener minimo 6 caracteres.",formatoUserName:"El usuario tiene un formato incorrecto."},nombre:{required:"Debe de especificar un nombre.",formatoLetras:"El nombre tiene un formato incorrecto."},montoAutorizado:{required:"Debe de especificar un nombre.",formatoDecimal:"El monto tiene un formato incorrecto."},cp:{required:"Debe de especificar un código postal.",minlength:"El código postal debe de ser de 5 caracteres.",maxlength:"El código postal debe de ser de 5 caracteres.",formatoNumeros:"El código postal tiene un formato incorrecto."},colonia:{required:"Debe de especificar una colonia."},calle:{required:"Debe de especificar una calle.",formatoDireccion:"La calle tiene un formato incorrecto."},numeroExt:{required:"Debe de especificar un número exterior.",formatoDireccion:"El numero exterior tiene un formato incorrecto."},contrasena:{required:"Debe de especificar una contraseña.",minlength:"La contraseña debe de ser de 8 a 16 caracteres.",maxlength:"La contraseña debe de ser de 8 a 16 caracteres.",formatoPassword:"La contraseña debe contener mínimo una mayúscula y mínimo un número."},confirmContrasena:{required:"Debe de confirmar la contraseña.",formatoPassword:"La contraseña debe contener mínimo una mayúscula y mínimo un número."},contras:{confirmPassword:"Las contraseñas no coinciden."}},this.usuario=new h.a,this.catPermisos=this._permisosService.permisos,this.empresas=this._empresasService.empresas,this.empresasAsignadas=this._usuariosService.getMisEmpresas(),this.usuarios=this._usuariosService.usuarios,this._deptosService.getDepartamentos().subscribe(function(t){return p.departamentos=t},function(t){return p._swal.error(t)}),this._puestosService.getPuestos().subscribe(function(t){return p.puestos=t},function(t){return p._swal.error(t)}),this.lastCP="",this.lastEstado=""}return t.prototype.ngOnInit=function(){var t=this;this._permisosService.getMisPermisos().subscribe(function(e){return t.getPermissionLevel(e.data)}),this._loginService.empresa.subscribe(function(e){return t.selectedEmpresa=e}),this._loginService.getSelectedEmpresa(),this._permisosService.getPermisos(),this._empresasService.getEmpresas(),this._usuariosService.getUsuarios(),this.windowSize=new b.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e}),(this.id=this._route.snapshot.params.id)?(this.bindForm(new h.a),this.form.get("idUsuario").setValue(this.id),Promise.resolve(this.initPermisos()).then(function(e){t._permisosService.getPermisosUsuario(t.id).subscribe(function(e){return t.loadPermisos(e)})}),this._usuariosService.getUsuario(this.id).subscribe(function(e){t.nombre=e.usuario,console.log("Nombre del usuario:",t.nombre),t.loadData(e)}),this.form.controls.contras.get("contraseña").setValidators(null),this.form.controls.contras.get("confirmContraseña").setValidators(null),1===this._route.snapshot.url.length?(this.titulo="Actualizar",this.form.controls.contras.valueChanges.subscribe(function(e){return t.onContrasChanged(e)})):(this.titulo="Detalles del",this.inDetails=!0)):"registrar"===this._route.snapshot.url[0].path&&(this.id=0,this.bindForm(new h.a),this.initPermisos(),this.loadEmpresas(),this.form.get("idUsuario").setValue(this.id),this.titulo="Registrar");var e=this.form.controls.contras;e.get("contraseña").valueChanges.subscribe(function(o){o&&e.get("contraseña").valid&&(t.hash=t._sha2.hash(o))}),e.get("confirmContraseña").valueChanges.subscribe(function(o){o&&e.get("confirmContraseña").valid&&(t.hash2=t._sha2.hash(o))});var o=this.form.get("cp");o.valueChanges.subscribe(function(e){o.valid&&t.lastCP!==e&&(t.lastCP=e,t._cpService.getCodigoPostal(e).subscribe(function(e){return t.loadCP(e.data)}))});var r=this.form.get("usuario");r.valueChanges.subscribe(function(e){e.length>0&&r.valid&&e.toLowerCase()!==t.nombre.toLowerCase()&&t._usuariosService.getExists(e.toLowerCase()).subscribe(function(e){return t.usuarioOcupado=!!e})});var n=this.form.controls.empresas2;n.valueChanges.subscribe(function(e){for(var o=!1,r=0,i=e;r<i.length;r++){var s=i[r];if("break"===function(t){if(t.selected&&t.codDepartamento>0){var e=n.controls.find(function(e){return null!==e.controls.montoAutorizado.errors&&e.controls.codEmpresa.value==t.codEmpresa});if(!(t.codPuesto>0&&t.jefeInmediato>0)||e)return o=!1,"break";o=!0}else if(t.selected&&(!t.codDepartamento||t.codDepartamento<0))return o=!1,"break"}(s))break}t.empresaSelected=o}),console.log("LA FORMA: ",this.form)},t.prototype.bindForm=function(t){var e=this;this.form=this._fb.group({idUsuario:[this.usuario.idUsuario],empresas2:this._fb.array([]),empresas:[[]],usuario:[this.usuario.usuario],nombre:[this.usuario.nombre,[i.c.required,m.a.formatoLetras]],cp:[this.usuario.cP,[i.c.required,i.c.minLength(5),i.c.maxLength(5),m.a.formatoNumeros]],codEstado:[this.usuario.codEstado],municipio:[this.usuario.municipio],ciudad:[this.usuario.ciudad],colonia:[this.usuario.colonia,[i.c.required]],estatus:[this.usuario.estatus,[i.c.required]],intentos:[this.usuario.intentos],calle:[this.usuario.calle,[i.c.required,m.a.formatoDireccion]],numeroExt:[this.usuario.numeroExt,[i.c.required,m.a.formatoDireccion]],telefonos:this._fb.array([this.initDatosTelefono()]),correos:this._fb.array([this.initDatosCorreos()]),permisos:this._fb.array([]),contras:this._fb.group({"contraseña":[this.usuario.pwd,[i.c.required,i.c.minLength(8),i.c.maxLength(16),m.a.formatoPassword]],"confirmContraseña":[null,[i.c.required,m.a.formatoPassword]]},{validator:m.a.confirmPassword})}),this.form.valueChanges.subscribe(function(t){return e.onValueChanged(t)}),this.onValueChanged()},t.prototype.initPermisos=function(){var t=this,e=this.form.get("permisos");this.catPermisos.subscribe(function(o){if(o&&o.length&&e.length<o.length){console.log(o);for(var r=0;r<o.length;r++)e.push(t.addPermiso(o[r].codPermiso,o[r].descripcion,""))}})},t.prototype.addPermiso=function(t,e,o){return this._fb.group({id:[0],codPermiso:[t],descripcion:[e],nivel:[o]})},t.prototype.loadPermisos=function(t){for(var e=this.form.get("permisos"),o=0,r=t;o<r.length;o++){var n=r[o];!function(t){var o=e.controls.find(function(e){return e.get("codPermiso").value==t.permiso.codPermiso});o&&(o.controls.nivel.setValue(t.nivel),o.controls.id.setValue(t.id))}(n)}},t.prototype.addEmpresa=function(t,e,o,r,n,i,s){void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=0),void 0===s&&(s=!1),this.form.get("empresas2").push(this.initDatosEmpresa(t,e,o,r,n,i,s))},t.prototype.filtrarEmpresas=function(){for(var t=this.form.controls.empresas2,e=[],o=0;o<t.controls.length;o++)t.controls[o].value.selected&&e.push(t.controls[o].value);this.form.controls.empresas.setValue(e)},t.prototype.initDatosEmpresa=function(t,e,o,r,n,s,a){return void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===s&&(s=0),void 0===a&&(a=!1),this._fb.group({codEmpresa:[t],nombre:[e],codDepartamento:[{value:o,disabled:!a},[i.c.required,m.a.minValue(1)]],codPuesto:[{value:r,disabled:!o},[i.c.required,m.a.minValue(1)]],jefeInmediato:[{value:n,disabled:!o},[i.c.required]],montoAutorizado:[s,[i.c.required,m.a.formatoDecimal]],selected:[a],collapsed:[!0],currencyPipe:[!0],nuevoDepartamento:[{value:null,disabled:0!==o},[i.c.required,m.a.formatoDescripcion]],departamentoOcupado:[!1],nuevoPuesto:[{value:null,disabled:0!==r},[i.c.required,m.a.formatoDescripcion]],puestoOcupado:[!1]})},t.prototype.loadEmpresas=function(t){var e=this,o=this.form.controls.empresas2;t&&this.inDetails?this.empresas.subscribe(function(r){if(r.length&&t.length&&!o.length){console.log("data",t);for(var n=0;n<t.length;n++)!function(o){var n=r.find(function(e){return e.codEmpresa==t[String(o)].codEmpresa});e.addEmpresa(t[String(o)].codEmpresa,n.nombre,t[String(o)].codDepartamento,t[String(o)].codPuesto,t[String(o)].jefeInmediato,t[String(o)].montoAutorizado,!0)}(n)}}):this.empresasAsignadas.subscribe(function(r){if(r.data.length&&!o.length)for(var n=0;n<r.data.length;n++)!function(o){if(t){var n=t.find(function(t){return t.codEmpresa==r.data[o].codEmpresa});if(n){var i=t.indexOf(n);e.addEmpresa(t[i].codEmpresa,r.data[o].nombre,t[i].codDepartamento,t[i].codPuesto,t[i].jefeInmediato,t[i].montoAutorizado,!0)}else e.addEmpresa(r.data[o].codEmpresa,r.data[o].nombre)}else e.addEmpresa(r.data[o].codEmpresa,r.data[o].nombre)}(n)})},t.prototype.initDatosTelefono=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),this._fb.group({id:[t],telefono:[e,[i.c.required,i.c.minLength(10),i.c.maxLength(10),m.a.formatoNumeros]],idTipoTelefono:[o,[i.c.required,m.a.minValue(1)]],tipo:[" "]})},t.prototype.initDatosCorreos=function(t,e,o,r){return void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),void 0===r&&(r=!1),this._fb.group({id:[t],correo:[e,[i.c.required,m.a.formatoCorreo]],idTipoCorreo:[o,[i.c.required,m.a.minValue(1)]],tipo:[""],principal:[r],occupied:[!1]})},t.prototype.addDatosTelefono=function(t,e,o){void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),this.form.controls.telefonos.push(this.initDatosTelefono(t,e,o))},t.prototype.addDatosCorreo=function(t,e,o,r){void 0===t&&(t=0),void 0===e&&(e=""),void 0===o&&(o=null),void 0===r&&(r=!1),this.form.controls.correos.push(this.initDatosCorreos(t,e,o,r))},t.prototype.removeDatosTelefono=function(t){this.form.controls.telefonos.removeAt(t)},t.prototype.removeDatosCorreo=function(t){this.form.controls.correos.removeAt(t)},t.prototype.loadCP=function(t){this.contDatos=t.length,this.colonias=[],(this.contDatos&&t[0].estado!==this.lastEstado||!this.contDatos)&&(this.estado=null),(!this.id||this.id>0&&this.cpModificado)&&(this.form.get("colonia").setValue(null),this.form.get("municipio").setValue(null),this.form.get("ciudad").setValue(null),null===this.estado&&this.form.get("codEstado").setValue(null));for(var e=0;e<t.length;e++)this.colonias.push(t[e].colonia);1===this.colonias.length&&this.form.get("colonia").setValue(this.colonias[0]),this.contDatos?(""==t[0].ciudad&&(this.sinCiudad=!0),this.form.get("ciudad").setValue(t[0].ciudad),this.form.get("municipio").setValue(t[0].municipio),t[0].estado!==this.lastEstado&&(this.estado=t[0].estado,this.form.get("codEstado").setValue(t[0].codEstado),this.lastEstado=t[0].estado)):this.lastEstado="",this.cpModificado=!0},t.prototype.loadData=function(t){for(var e=[],o=0;o<t.empresas.length;o++)e.push({codEmpresa:t.empresas[o].codEmpresa,codDepartamento:t.empresas[o].codDepartamento,codPuesto:t.empresas[o].codPuesto,jefeInmediato:t.empresas[o].jefeInmediato,montoAutorizado:t.empresas[o].montoAutorizado});this.loadEmpresas(e);for(var r=this.form.controls.telefonos,o=0;o<t.telefonos.length;o++)o?this.addDatosTelefono(t.telefonos[String(o)].id,t.telefonos[String(o)].telefono,t.telefonos[String(o)].idTipoTelefono):r.controls[0].setValue({id:t.telefonos[0].id,telefono:t.telefonos[0].telefono,idTipoTelefono:t.telefonos[0].idTipoTelefono,tipo:""});for(var n=this.form.controls.correos,o=0;o<t.correos.length;o++)o?(t.correos[String(o)].principal&&(this.mainEmail=t.correos[String(o)].id),this.addDatosCorreo(t.correos[String(o)].id,t.correos[String(o)].correo,t.correos[String(o)].idTipoCorreo,t.correos[String(o)].principal)):(t.correos[0].principal&&(this.mainEmail=t.correos[0].id),n.controls[0].setValue({id:t.correos[0].id,correo:t.correos[0].correo,idTipoCorreo:t.correos[0].idTipoCorreo,tipo:"",principal:t.correos[0].principal,occupied:!1}));this.form.get("idUsuario").setValue(t.idUsuario),this.form.get("usuario").setValue(t.usuario),this.form.get("nombre").setValue(t.nombre),this.form.get("cp").setValue(t.cP),this.form.get("codEstado").setValue(t.codEstado),this.form.get("municipio").setValue(t.municipio),this.form.get("ciudad").setValue(t.ciudad),this.form.get("colonia").setValue(t.colonia),this.form.get("calle").setValue(t.calle),this.form.get("numeroExt").setValue(t.numeroExt),this.form.get("estatus").setValue(t.estatus)},t.prototype.newDepartamento=function(t){var e=this;if(t.value.departamentoOcupado)return t.get("nuevoDepartamento").reset(),t.get("departamentoOcupado").setValue(!1),void this._swal.warning("¡ATENCIÓN!","El nombre del departamento ya existe, por favor escoga otro nombre que este disponible.");if(!t.get("nuevoDepartamento").valid)return t.get("nuevoDepartamento").reset(),void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente el campo nuevo departamento.");var o=new f.a;o.codDepartamento=0,o.codEmpresa=t.value.codEmpresa,o.codDepartamento=t.value.codDepartamento,o.descripcion=t.value.nuevoDepartamento,o.estatus="A",this._deptosService.postDepartamento(o).subscribe(function(o){if(o.result){if(t.get("departamentoOcupado").value)return void e._swal.warning("¡ATENCIÓN!","El nombre del departamento ya existe, por favor escoga otro nombre que este disponible.");e._deptosService.getDepartamentos().subscribe(function(r){return Promise.resolve(e.departamentos=r).then(function(r){t.get("codDepartamento").setValue(o.data),e.habilitarCampos(t)})},function(t){return e._swal.error(t)})}else e._swal.error(o.msg)},function(t){console.log("tronadero"),e._swal.error(t)},function(){return t.get("nuevoDepartamento").reset()})},t.prototype.newPuesto=function(t){var e=this;if(t.value.puestoOcupado)return t.get("nuevoPuesto").reset(),t.get("puestoOcupado").setValue(!1),void this._swal.warning("¡ATENCIÓN!","El nombre del puesto ya existe, por favor escoga otro nombre que este disponible.");if(!t.get("nuevoPuesto").valid)return t.get("nuevoPuesto").reset(),void this._swal.warning("¡ATENCIÓN!","Favor de completar correctamente el campo nuevo puesto.");if(t.get("codDepartamento").value<0||null==t.get("codDepartamento").value)return t.get("nuevoPuesto").reset(),void this._swal.warning("¡ATENCIÓN!","Favor de seleccionar ó registrar un departamento antes de registrar un puesto.");var o=new g.a;o.codDepartamento=t.value.codDepartamento,o.descripcion=t.value.nuevoPuesto,this._puestosService.postPuesto(o).subscribe(function(o){if(o.result){if(t.value.puestoOcupado)return void e._swal.warning("¡ATENCIÓN!","El nombre del puesto ya existe, por favor escoga otro nombre que este disponible.");e._puestosService.getPuestos().subscribe(function(r){return Promise.resolve(e.puestos=r).then(function(e){return t.get("codPuesto").setValue(o.data)})})}else e._swal.error(o.msg)},function(t){return e._swal.error(t)},function(){return t.get("nuevoPuesto").reset()})},t.prototype.canDeactivate=function(){return this._swal.confirmMsg("¡ATENCIÓN!","Se perderán los cambios que no hayan sido guardados, ¿desea salir?").then(function(t){return t>0})},t.prototype.checkDepartamentoExiste=function(t){t&&t.value.codEmpresa&&t.value.nuevoDepartamento&&t.get("nuevoDepartamento").valid&&this._deptosService.getExists(t.value.codEmpresa,t.value.nuevoDepartamento).subscribe(function(e){return t.get("departamentoOcupado").setValue(!!e)})},t.prototype.checkPuestoExiste=function(t){t&&t.value.codEmpresa&&t.value.nuevoPuesto&&t.get("nuevoPuesto").valid&&this._puestosService.getExists(t.value.codEmpresa,t.value.codDepartamento,t.value.nuevoPuesto).subscribe(function(e){console.log("oieCY",e),t.get("puestoOcupado").setValue(!!e)})},t.prototype.checkAvailability=function(t,e,o){if(console.log("checAvailability: ",o),o){this.mainEmail=t;var r=this.form.controls.correos;this.form.get("usuario").setValue(r.controls[t].value.correo)}else this.mainEmail==t&&(this.mainEmail=-1)},t.prototype.checkOccupiedEmails=function(){for(var t=this.form.controls.correos,e=0,o=t.controls;e<o.length;e++){if(o[e].value.occupied)return!0}return!1},t.prototype.isInCompany=function(t,e){if(t){return!!t.find(function(t){return t.codEmpresa==e})}},t.prototype.gestionarDatosEmpresa=function(t){t.get("collapsed").setValue(!t.value.selected),t.value.selected?(t.get("codDepartamento").enable(),t.get("codDepartamento").reset(),t.get("montoAutorizado").reset()):(t.get("codDepartamento").disable(),t.get("montoAutorizado").setValue(0)),t.get("codPuesto").reset(),t.get("codPuesto").disable(),t.get("jefeInmediato").reset(),t.get("jefeInmediato").disable(),t.get("nuevoDepartamento").reset(),t.get("nuevoPuesto").reset()},t.prototype.getPermissionLevel=function(t){this.permiso=t.find(function(t){return"Usuarios"===t.permiso.descripcion}).nivel},t.prototype.habilitarCampos=function(t){t.get("codDepartamento").value&&(t.get("codDepartamento").value>0?(console.log("jiji"),t.get("codPuesto").reset(),t.get("codPuesto").enable(),t.get("jefeInmediato").reset(),t.get("jefeInmediato").enable(),t.get("nuevoDepartamento").disable(),t.get("nuevoDepartamento").setValidators(null)):(t.get("codPuesto").reset(),t.get("codPuesto").disable(),t.get("jefeInmediato").reset(),t.get("jefeInmediato").disable(),t.get("nuevoDepartamento").reset(),t.get("nuevoDepartamento").enable(),t.get("departamentoOcupado").setValue(!1),t.get("nuevoDepartamento").setValidators([i.c.required,m.a.formatoDescripcion])),t.get("montoAutorizado").enable(),t.get("montoAutorizado").reset())},t.prototype.habilitarCamposPuesto=function(t){t.get("codPuesto").value&&(t.get("codPuesto").value>0?(t.get("jefeInmediato").reset(),t.get("jefeInmediato").enable(),t.get("nuevoPuesto").reset(),t.get("nuevoPuesto").disable(),t.get("nuevoPuesto").setValidators(null),t.get("puestoOcupado").setValue(!1)):(t.get("jefeInmediato").reset(),t.get("jefeInmediato").disable(),t.get("nuevoPuesto").reset(),t.get("nuevoPuesto").enable(),t.get("puestoOcupado").setValue(!1),t.get("nuevoPuesto").setValidators([i.c.required,m.a.formatoDescripcion])),t.get("montoAutorizado").reset(),t.get("montoAutorizado").enable())},t.prototype.isGeneralTabValid=function(){for(var t in this.form.controls)if(this.form.get(t).invalid&&"telefonos"!==t&&"correos"!==t&&"empresas2"!==t)return!1;return!0},t.prototype.isPersonalTabValid=function(){return!(!this.form.get("telefonos").valid||!this.form.get("correos").valid)},t.prototype.onContrasChanged=function(t){var e=this.form.get("contras"),o=e.get("contraseña"),r=e.get("confirmContraseña"),n=""==o.value&&(null===r.value||""==r.value),s=""!==o.value||null!==r.value&&""!==r.value;!this.contrasValidators&&n||this.contrasValidators&&s||(this.contrasValidators&&n&&(this.contrasValidators=!1,e.clearValidators(),o.clearValidators(),o.updateValueAndValidity(),r.clearValidators(),r.updateValueAndValidity()),!this.contrasValidators&&s&&(this.contrasValidators=!0,e.setValidators(m.a.confirmPassword),o.setValidators([i.c.required,i.c.minLength(8),i.c.maxLength(16),m.a.formatoPassword]),o.updateValueAndValidity(),r.setValidators(i.c.required),r.updateValueAndValidity()))},t.prototype.onValueChanged=function(t){if(this.form){var e=this.form;for(var o in this.formErrors){this.formErrors[o]="";var r=void 0;if((r="contrasena"===o?e.get("contras").controls["contraseña"]:"confirmContrasena"===o?e.get("contras").controls["confirmContraseña"]:e.get(o))&&!r.valid&&r.dirty){var n=this.msgErrors[o];for(var i in r.errors)"currentValue"!==i&&(this.formErrors[o]||(this.formErrors[o]+=n[i]+""))}}}},t.prototype.showPassword=function(){this.changeStatus=!this.changeStatus,this.changeStatus?(document.getElementById("password").setAttribute("type","text"),document.getElementById("changeEye").className="fa fa-eye-slash fa-3"):(document.getElementById("password").setAttribute("type","password"),document.getElementById("changeEye").className="fa fa-eye fa-3")},t.prototype.isMobileSize=function(){return this.windowWidth<=425},t.prototype.onSubmit=function(){var t=this;if(!this.form.valid||!this.empresaSelected)return void this._swal.warning("¡ATENCIÓN!","Debe de completar correctamente la información general del usuario.");if(this.checkOccupiedEmails()&&this.form.valid)return void this._swal.warning("¡ATENCIÓN!","El correo ingresado no está disponible, por favor ingrese otro.");if(this.mainEmail>-1&&!this.form.get("usuario").value){var e=this.form.controls.correos;this.form.get("usuario").setValue(e.controls[this.mainEmail].value.correo)}this.submitting=!0,this.filtrarEmpresas(),this.usuario=this.form.value,this.usuario.pwd=this.hash,console.log("onSubmit() ",this.usuario);var o=0!=this.id?"El usuario "+this.form.controls.usuario.value.toLowerCase()+", se ha actualizado correctamente":"El usuario "+this.form.controls.usuario.value.toLowerCase()+", se ha registrado correctamente";this.id>0?(console.log("updateSubmit() ",this.usuario),this._usuariosService.updateUsuario(this.usuario).subscribe(function(e){return t._swal.success("¡ÉXITO!",o,2e3)},function(e){t.submitting=!1,t._swal.error(e)},function(){return t._router.navigate(["../"],{relativeTo:t._route})})):(console.log("postSubmit() ",this.usuario),this._usuariosService.postUsuario(this.usuario).subscribe(function(e){return t._swal.success("¡ÉXITO!",o,2e3)},function(e){t.submitting=!1,t._swal.error(e)},function(){return t._router.navigate(["../"],{relativeTo:t._route})}))},t}();E=v([o.i(r.Component)({selector:"app-formulario",template:o("Tsbv"),styles:[o("9o9c")]}),y("design:paramtypes",["function"==typeof(C=void 0!==i.d&&i.d)&&C||Object,"function"==typeof(w=void 0!==n.a&&n.a)&&w||Object,"function"==typeof(x=void 0!==n.b&&n.b)&&x||Object,"function"==typeof(D=void 0!==b.a&&b.a)&&D||Object,"function"==typeof(S=void 0!==b.b&&b.b)&&S||Object,"function"==typeof(z=void 0!==s.a&&s.a)&&z||Object,"function"==typeof(P=void 0!==a.a&&a.a)&&P||Object,"function"==typeof(I=void 0!==l.a&&l.a)&&I||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object,"function"==typeof(T=void 0!==u.a&&u.a)&&T||Object,"function"==typeof(M=void 0!==d.a&&d.a)&&M||Object,"function"==typeof(F=void 0!==p.a&&p.a)&&F||Object])],E);var C,w,x,D,S,z,P,I,_,T,M,F},GVMw:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,".contenedor>section{margin-bottom:5px}.derecha{text-align:right}.fa.fa-search{color:#000}.focused{color:#87cefa!important}.izquierda{float:left}.inner-addon{position:relative}.inner-addon .fa{padding:10px 8.5px;pointer-events:none;position:absolute}.left-addon input{padding-left:26px}.left-inner-addon input{padding-left:30px}.left-addon .fa{left:4px}.searchFocused{padding-left:34px!important}button[type=button]{border-radius:50px}input{margin-right:60px}input[type=text]{width:20px;transition:width .5s ease-in-out;border-radius:100px}input[type=text]:focus{width:170px}@media screen and (max-width:425px){.buscar{margin-bottom:5px}.btnNuevo{display:none}.fa.fa-search,.fuenteSmartphone{font-size:.8em}input[type=text]{font-size:.7em}input[type=text]:focus{width:100px}.left-addon input{padding-left:20px}.inner-addon .fa{padding:10px 7px;pointer-events:none;position:absolute}.searchFocused{padding-left:28px!important}}@media screen and (max-width:375px){.fuenteSmartphone{font-size:.75em}}@media screen and (max-width:320px){.fuenteSmartphone{font-size:.7em}}",""]),t.exports=t.exports.toString()},JHmU:function(t,e){t.exports='<section class="encabezado animated fadeIn">\r\n\t<title>| Catálogo de usuarios</title>\r\n\t<br>\r\n\t<strong><h5>CATÁLOGO DE USUARIOS</h5></strong>\r\n\t<hr>\r\n</section>\r\n<section class="contenedor animated fadeIn fast">\r\n\t<section style="margin-bottom: 5px;">\r\n\t\t<article class="izquierda inner-addon left-addon rounded-circle buscar">\r\n\t\t\t<i class="fa fa-search" aria-hidden="true" [ngClass]="{\'focused\':focusedOnSearch}"></i>\r\n\t\t\t<input type="text" autofocus class="form-control" placeholder="Buscar" [(ngModel)]="buscador" (keyup)="0" [ngClass]="{\'searchFocused\':focusedOnSearch}"\r\n\t\t\t\t(blur)="focusedOnSearch=false" (focus)="focusedOnSearch=true">\r\n\t\t</article>\r\n\t\t<article class="derecha" *ngIf="permiso===\'todos\'">\r\n\t\t\t<button type="button" class="btn btn-outline-success" [ngClass]="{\'btn-sm\': isMobileSize()}" routerLink="registrar">\r\n\t\t\t\t<i class="fa fa-user-plus fa-lg" aria-hidden="true"></i>\r\n\t\t\t\t<span class="btnNuevo">Nuevo</span>\r\n\t\t\t</button>\r\n\t\t</article>\r\n\t</section>\r\n\t<article class="fuenteSmartphone" *ngIf="usuarios | async">\r\n\t\t<table-sortable [columns]="columnas"\r\n\t\t\t\t\t\t[data]="usuarios | async | mostrarActivos | mostrarPermitidos:selectedEmpresa | filtrarUsuario:buscador | formatoFechas"\r\n\t\t\t\t\t\t[options]="options"\r\n\t\t\t\t\t\t[sort]="order"\r\n\t\t\t\t\t\t[permiso]="permiso"\r\n\t\t\t\t\t\t(onDelete)="delete($event)"\r\n\t\t\t\t\t\t(onDetails)="details($event)"\r\n\t\t\t\t\t\t(onEdit)="edit($event)">\r\n\t\t\t<i class="fa fa-spinner fa-pulse fa-2x fa-fw" aria-hidden="true"></i>\r\n\t\t</table-sortable>\r\n\t</article>\r\n</section>'},Su9D:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}.margen{margin-top:4px}.alineado{margin-left:9px}@media screen and (max-width:425px){label{font-size:.8em}input,select{font-size:.7em}div small{font-size:.65em}}@media screen and (max-width:375px){label{font-size:.75em}}@media screen and (max-width:320px){label{font-size:.7em}}",""]),t.exports=t.exports.toString()},Tsbv:function(t,e){t.exports='<section class="encabezado">\r\n\t<title>| {{titulo}} usuario</title>\r\n    <br>\r\n\t<strong>\r\n\t\t<h5>{{titulo | uppercase}} USUARIO:</h5>\r\n\t\t<h5><small *ngIf="inDetails || id">{{nombre | uppercase}}</small></h5>\r\n\t</strong>\r\n    <hr>\r\n</section>\r\n<section class="contenedor">\r\n\t<form [formGroup]="form" (submit)="onSubmit()" novalidate class="container">\r\n\t\t<br *ngIf="isMobileSize()">\r\n\t\t<ngb-tabset>\r\n\x3c!--.................................................................................................................................... Empresa(s)--\x3e\r\n\t\t<ngb-tab>\r\n\t\t\t<ng-template ngbTabTitle>\r\n\t\t\t\t<span [ngClass]="{\'validTab\':empresaSelected,\r\n\t\t\t\t\t\t\t\t\'invalidTab\':!empresaSelected}">\r\n\t\t\t\t\tEmpresa(s)\r\n\t\t\t\t</span>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template ngbTabContent>\r\n\t\t\t<article class="tab"></article>\r\n\t\t\t\t<section formArrayName="empresas2" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t<article class="col-sm-12">\r\n\t\t\t\t\t\t<section *ngFor="let e of form.get(\'empresas2\').controls; let i=index" [formGroupName]="i" class="container card margen">\r\n\t\t\t\t\t\t\t<article class="row">\r\n\t\t\t\t\t\t\t\t<label class="custom-control custom-checkbox">\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" class="custom-control-input" formControlName="selected" *ngIf="!inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t(change)="gestionarDatosEmpresa(e)">\r\n\t\t\t\t\t\t\t\t\t<input type="hidden">\r\n\t\t\t\t\t\t\t\t\t<span class="custom-control-indicator" *ngIf="!inDetails"></span>\r\n\t\t\t\t\t\t\t\t\t<span class="custom-control-description" (click)="inDetails ? e.get(\'collapsed\').setValue(!e.get(\'collapsed\').value) : true">\r\n\t\t\t\t\t\t\t\t\t\t{{ e.value.nombre }}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</label>\t\r\n\t\t\t\t\t\t\t\t<article class="ml-auto">\r\n\t\t\t\t\t\t\t\t\t<i *ngIf="e.value.selected"\r\n\t\t\t\t\t\t\t\t\t\tclass="fa btn btn-outline-secondary btn-sm rounded-circle"  aria-hidden="true"\r\n\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'fa-angle-down\': e.get(\'collapsed\').value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\'fa-angle-up\': !e.get(\'collapsed\').value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\'disabled\': !e.value.selected}" \r\n\t\t\t\t\t\t\t\t\t\t(click)="e.value.selected ? e.get(\'collapsed\').setValue(!e.get(\'collapsed\').value) : false"\r\n\t\t\t\t\t\t\t\t\t\t[attr.aria-expanded]="!e.get(\'collapsed\').value" aria-controls="datosPorEmpresa">\r\n\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t<div id="datosPorEmpresa" [ngbCollapse]="e.get(\'collapsed\').value">\r\n\t\t\t\t\t\t\t\t<div class="col1"> \x3c!--........................................................... Departamento | Puesto--\x3e\r\n\t\t\t\t\t\t\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-briefcase fa-fw" aria-hidden="true"></i><strong> Departamento:</strong>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<article [ngClass]="{\'has-danger\':formErrors.codDepartamento,\'has-success\':!formErrors.codDepartamento}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select class="custom-select form-control form-control-sm" formControlName="codDepartamento" *ngIf="!inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(change)="habilitarCampos(e)">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="e.get(\'codDepartamento\').pristine && !e.get(\'codDepartamento\').value" selected value="null">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccione un departamento\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template ngFor let-d [ngForOf]="departamentos | orderByDescription: [\'descripcion\']">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="d.codEmpresa==e.value.codEmpresa" [value]="d.codDepartamento">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ d.descripcion | titleCase }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="-1">*Nuevo departamento</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control form-control-sm" formControlName="codDepartamento" [value]="e.value.codDepartamento | tipoDepartamento: departamentos" *ngIf="inDetails" readonly>\r\n\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t\t<article *ngIf="e.get(\'codDepartamento\').value<0" class="mt-1">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<article class="col col-sm-12 pr-0"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'has-danger\': !e.get(\'nuevoDepartamento\').valid && (e.get(\'nuevoDepartamento\').touched || e.get(\'nuevoDepartamento\').dirty),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-success\': e.get(\'nuevoDepartamento\').valid && (e.get(\'nuevoDepartamento\').touched || e.get(\'nuevoDepartamento\').dirty),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-warning\': e.get(\'nuevoDepartamento\').valid && e.get(\'departamentoOcupado\').value}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" (input)="checkDepartamentoExiste(e)" formControlName="nuevoDepartamento" class="form-control form-control-sm" placeholder="Nombre del departamento.."\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': e.get(\'nuevoDepartamento\').errors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !e.get(\'nuevoDepartamento\').errors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'form-control-warning\': !e.get(\'nuevoDepartamento\').errors && e.get(\'departamentoOcupado\').value}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button role="button" type="button" (click)="newDepartamento(e)" class="btn btn-success btn-sm" [disabled]="e.get(\'nuevoDepartamento\').invalid || e.get(\'departamentoOcupado\').value">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-save" aria-hidden="true"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'nuevoDepartamento\').errors?.formatoDescripcion" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo tiene un formato incorrecto.</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'nuevoDepartamento\').errors?.required" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Debe especificar un departamento.</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'departamentoOcupado\').value && !e.get(\'nuevoDepartamento\').errors" class="alert alert-warning">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; El nombre de departamento ya existe!</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-briefcase fa-fw" aria-hidden="true"></i><strong> Puesto:</strong>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<article\r\n\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'has-danger\':formErrors.codPuesto,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-success\':!formErrors.codPuesto}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!-- (change)="e.get(\'codPuesto\').value ? e.get(\'jefeInmediato\').enable(): e.get(\'jefeInmediato\').disable(); e.get(\'jefeInmediato\').reset()" --\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t\t<select class="custom-select form-control form-control-sm" formControlName="codPuesto" *ngIf="!inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(change)="habilitarCamposPuesto(e)">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="(e.get(\'codPuesto\').pristine && !e.get(\'codPuesto\').value)" selected value="null">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccione un puesto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ng-template ngFor let-p [ngForOf]="puestos | orderByDescription: [\'descripcion\']">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="p.codDepartamento==e.value.codDepartamento" [value]="p.codPuesto">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ p.descripcion | titleCase }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value="-1">*Nuevo puesto</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control form-control-sm" formControlName="codPuesto" [value]="e.value.codPuesto | tipoPuesto: puestos" *ngIf="inDetails" readonly>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--<div *ngIf="formErrors.codPuesto" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.codPuesto}}</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>--\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t\t<article *ngIf="e.get(\'codPuesto\').value<0" class="mt-1">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<article class="col col-sm-12 pr-0"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'has-danger\': !e.get(\'nuevoPuesto\').valid && (e.get(\'nuevoPuesto\').touched || e.get(\'nuevoPuesto\').dirty),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-success\': e.get(\'nuevoPuesto\').valid && (e.get(\'nuevoPuesto\').touched || e.get(\'nuevoPuesto\').dirty),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-warning\': e.get(\'nuevoPuesto\').valid && e.get(\'puestoOcupado\').value}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="input-group">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="text" (input)="checkPuestoExiste(e)" formControlName="nuevoPuesto" class="form-control form-control-sm" placeholder="Nombre del puesto.."\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': e.get(\'nuevoPuesto\').errors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !e.get(\'nuevoPuesto\').errors,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'form-control-warning\': !e.get(\'nuevoPuesto\').errors && e.get(\'puestoOcupado\').value}">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button role="button" class="btn btn-success btn-sm" (click)="newPuesto(e)" type="button" [disabled]="e.get(\'nuevoPuesto\').invalid || e.get(\'puestoOcupado\').value">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-save" aria-hidden="true"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'nuevoPuesto\').errors?.required" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Debe especificar un puesto.</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'nuevoPuesto\').errors?.formatoDescripcion" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo tiene un formato incorrecto.</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'puestoOcupado\').value && !e.get(\'nuevoPuesto\').errors" class="alert alert-warning">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; El nombre de puesto ya existe!</small>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="col2"> \x3c!--........................................................... Jefe | Monto Autorizado--\x3e\r\n\t\t\t\t\t\t\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-briefcase fa-fw" aria-hidden="true"></i><strong> Jefe Inmediato:</strong>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<article\r\n\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-danger\': formErrors.jefeInmediato,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-success\': !formErrors.jefeInmediato && !inDetails}">\r\n\t\t\t\t\t\t\t\t\t\t\t<select class="custom-select form-control form-control-sm" formControlName="jefeInmediato" *ngIf="!inDetails">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="(e.get(\'jefeInmediato\').pristine && !e.get(\'jefeInmediato\').value) || !e.get(\'jefeInmediato\').valid" selected value="null">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccione un jefe\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ng-template ngFor let-u [ngForOf]="usuarios | async | mostrarActivos | orderByName:[\'nombre\']">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option *ngIf="isInCompany(u.empresas,e.value.codEmpresa)" [value]="u.idUsuario">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{u.nombre | titleCase}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type="text" class="form-control form-control-sm" formControlName="jefeInmediato" [value]="e.value.jefeInmediato | transformarIdUsuarioXNombre: (usuarios | async)" *ngIf="inDetails" readonly>\r\n\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="formErrors.jefeInmediato" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.jefeInmediato}}</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-usd fa-fw" aria-hidden="true"></i><strong> Monto Autorizado:</strong>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<article\r\n\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-danger\': e.get(\'montoAutorizado\').hasError(\'formatoDecimal\'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'has-success\': !e.get(\'montoAutorizado\').hasError(\'formatoDecimal\')}">\r\n\t\t\t\t\t\t\t\t\t\t\t<input class="form-control form-control-sm" type="text"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(focus)="e.get(\'currencyPipe\').setValue(inDetails ? true : false)"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(blur)="e.get(\'currencyPipe\').setValue(true)"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tformControlName="montoAutorizado"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[value]="e.value.currencyPipe && e.get(\'montoAutorizado\').valid ? (e.value.montoAutorizado | currency:\'MXN\':true) : e.value.montoAutorizado"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t[readonly]="inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder="Ej. $10000"\r\n\t\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': e.get(\'montoAutorizado\').hasError(\'formatoDecimal\') && !e.get(\'montoAutorizado\').pristine,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !e.get(\'montoAutorizado\').hasError(\'formatoDecimal\') && !inDetails}">\r\n\t\t\t\t\t\t\t\t\t\t\t\x3c!--<div *ngIf="e.get(\'montoAutorizado\').hasError(\'required\')" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; METE UN MONTO GOEY</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>--\x3e\r\n\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'montoAutorizado\').hasError(\'required\') && !e.get(\'montoAutorizado\').pristine" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Debe de especificar un monto</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div *ngIf="e.get(\'montoAutorizado\').hasError(\'formatoDecimal\') && !e.get(\'montoAutorizado\').pristine && !e.get(\'montoAutorizado\').hasError(\'required\')" class="alert alert-danger">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; El monto tiene formato incorrecto</small>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t</ng-template>\r\n\t\t</ngb-tab>\r\n\x3c!--.................................................................................................................................... General--\x3e\r\n\t\t<ngb-tab>\r\n\t\t\t<ng-template ngbTabTitle>\r\n\t\t\t\t<span [ngClass]="{\'validTab\': isGeneralTabValid(),\'invalidTab\': !isGeneralTabValid()}">General</span>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template ngbTabContent>\r\n\t\t\t<article class="tab"></article>\r\n\x3c!--.................................................................... Usuario--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}" *ngIf="id || inDetails">\r\n\t            <label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-user fa-fw" aria-hidden="true"></i><strong> Usuario:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\r\n\t\t\t\t\t<input class="form-control" type="text" formControlName="usuario" [readonly]="id || inDetails">\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Nombre completo del usuario--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-id-card fa-fw" aria-hidden="true"></i><strong> Nombre:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.nombre,\r\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.nombre && !inDetails}">\r\n\t\t\t\t\t<input class="form-control" type="text" formControlName="nombre" placeholder="Ej. José Doroteo Arango Arámbula"\r\n\t\t\t\t\t\t[readonly]="inDetails"\r\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.nombre,\r\n\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.nombre && !inDetails}">\r\n\t\t\t\t\t<div *ngIf="formErrors.nombre" class="alert alert-danger">\r\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.nombre}}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Código postal--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t            <label class="col-form-label" [ngClass]="{\'col-sm-6\': isMobileSize(), \'col-sm-4\': !isMobileSize()}">\r\n\t                <i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Código postal:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.cp,\r\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.cp && !inDetails,\r\n\t\t\t\t\t\t\t\t\'has-warning\': !formErrors.cp && !contDatos}">\r\n\t\t\t\t\t<input class="form-control" type="text" formControlName="cp" placeholder="Ej. 34497." maxlength="5"\r\n\t\t\t\t\t\t[readonly]="inDetails"\r\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.cp,\r\n\t\t\t\t\t\t\t\t   \'form-control-success\': !formErrors.cp && !inDetails,\r\n\t\t\t\t\t\t\t\t   \'form-control-warning\': !formErrors.cp && !contDatos}">             \r\n\t\t\t\t\t<div *ngIf="formErrors.cp" class="alert alert-danger">\r\n\t                    <small><i class="fa fa-warning"></i>&nbsp; {{formErrors.cp}}</small>\r\n\t                </div>\r\n\t                <div *ngIf="!contDatos && !formErrors.cp" class="alert alert-warning">\r\n\t                    <small><i class="fa fa-warning"></i>&nbsp; El código postal no existe!</small>\r\n\t                </div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Estado--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Estado:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize() }">\r\n\t\t\t\t\t<input type="text" class="form-control" formControlName="codEstado" value="{{estado}}" readonly>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Municipio--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Municipio:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\r\n\t\t\t\t\t<input type="text" class="form-control" formControlName="municipio" readonly>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Ciudad--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-globe fa-fw" aria-hidden="true"></i><strong> Ciudad:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article *ngIf="!sinCiudad || !contDatos"\r\n\t                [ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize()}">\r\n\t\t\t\t\t<input type="text" class="form-control" formControlName="ciudad" readonly>\r\n\t\t\t\t</article>\r\n\t\t\t\t<article *ngIf="sinCiudad && contDatos" [ngClass]="{\'col-sm-12\': isMobileSize(),\'col-sm-8\': !isMobileSize()}">\r\n\t                 <input type="text" class="form-control uppercase" formControlName="ciudad" readonly placeholder="--Estado sin ciudad--">\r\n\t            </article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Colonias--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Colonia:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.colonia,\r\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.colonia && !inDetails}">\r\n\t\t\t\t\t<select class="custom-select form-control" formControlName="colonia" *ngIf="!inDetails"\r\n\t\t\t\t\t\t[ngClass]="{\'form-control-sm\': isMobileSize()}">\r\n\t\t\t\t\t\t<option *ngIf="(form.controls[\'colonia\'].pristine && !form.controls[\'colonia\'].value) || !form.controls[\'colonia\'].valid" selected value="null">\r\n\t\t\t\t\t\t\tSeleccione una colonia\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option *ngFor="let c of colonias | orderByColonia" value="{{c}}">{{c}}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<input type="text" class="form-control" formControlName="colonia" *ngIf="inDetails" readonly>\r\n\t\t\t\t\t<div *ngIf="formErrors.colonia" class="alert alert-danger">\r\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.colonia}}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Calle--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Calle:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.calle,\r\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.calle && !inDetails}">\r\n\t\t\t\t\t<input class="form-control" type="text" formControlName="calle" placeholder="Ej. Av. Francisco Villa."\r\n\t                    [readonly]="inDetails"\r\n\t\t\t\t\t\t[ngClass]="{\'form-control-danger\':formErrors.calle,\r\n\t                                \'form-control-success\':!formErrors.calle && !inDetails}">\r\n\t\t\t\t\t<div *ngIf="formErrors.calle" class="alert alert-danger">\r\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.calle}}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Número Exterior--\x3e\r\n\t\t\t<section class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t<i class="fa fa-map-marker fa-fw" aria-hidden="true"></i><strong> Número:</strong>\r\n\t\t\t\t</label>\r\n\t\t\t\t<article\r\n\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(), \'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\'has-danger\': formErrors.numeroExt,\r\n\t\t\t\t\t\t\t\t\'has-success\': !formErrors.numeroExt && !inDetails}">\r\n\t\t\t\t\t<input class="form-control" type="text" formControlName="numeroExt" placeholder="Ej. #1878."\r\n\t\t\t\t\t\t[readonly]="inDetails"\r\n\t                    [ngClass]="{\'form-control-danger\': formErrors.numeroExt,\r\n\t                                \'form-control-success\': !formErrors.numeroExt && !inDetails}">\r\n\t\t\t\t\t<div *ngIf="formErrors.numeroExt" class="alert alert-danger">\r\n\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.numeroExt}}</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</article>\r\n\t\t\t</section>\r\n\x3c!--.................................................................... Contraseñas--\x3e\r\n\t\t\t<section formGroupName="contras">\r\n\t\t\t\t<section *ngIf="!inDetails" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t<i class="fa fa-key fa-fw" aria-hidden="true"></i><strong> Contraseña:</strong>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<article\r\n\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\'has-danger\': formErrors.contrasena,\r\n\t\t\t\t\t\t\t\t\t\'has-success\': !formErrors.contrasena}">\r\n\t\t\t\t\t\t<div class="inner-addon left-addon">\r\n\t\t\t\t\t\t\t<span (click)="showPassword()">\r\n\t\t\t\t\t\t\t\t\t<i id="changeEye" class="fa fa-eye fa-3" aria-hidden="true"></i>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<input class="form-control" type="password" id="password" formControlName="contraseña" onpaste="return false" maxlength="16"\r\n\t\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.contrasena,\r\n\t\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.contrasena}">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf="formErrors.contrasena" class="alert alert-danger">\r\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.contrasena}}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section *ngIf="!inDetails" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\r\n\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-8\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t<i class="fa fa-key fa-fw" aria-hidden="true"></i><strong> Confirmar Contraseña:</strong>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<article\r\n\t\t\t\t\t\t[ngClass]="{\'col-sm-12\': isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\'col-sm-8\': !isMobileSize(),\r\n\t\t\t\t\t\t\t\t\t\'has-danger\': formErrors.confirmContrasena,\r\n\t\t\t\t\t\t\t\t\t\'has-success\': !formErrors.confirmContrasena}">\r\n\t\t\t\t\t\t<input class="form-control" type="password" formControlName="confirmContraseña" onpaste="return false" maxlength="16"\r\n\t\t\t\t\t\t\t[ngClass]="{\'form-control-danger\': formErrors.confirmContrasena,\r\n\t\t\t\t\t\t\t\t\t\t\'form-control-success\': !formErrors.confirmContrasena}">\r\n\t\t\t\t\t\t<div *ngIf="formErrors.confirmContrasena" class="alert alert-danger">\r\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.confirmContrasena}}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf="formErrors.contras&&(!formErrors.confirmContrasena&&!formErrors.contrasena)" \r\n\t\t\t\t\t\t\tclass="alert alert-danger">\r\n\t\t\t\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.contras}}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t</section>\r\n\t\t\t</ng-template>\r\n\t\t</ngb-tab>\r\n\x3c!--.................................................................................................................................... Personal--\x3e\r\n\t\t<ngb-tab id="class">\r\n\t\t\t<ng-template ngbTabTitle>\r\n\t\t\t\t<span [ngClass]="{\'validTab\': isPersonalTabValid(),\'invalidTab\': !isPersonalTabValid()}">Personal</span>\r\n\t\t\t</ng-template>\r\n\t\t\t<ng-template ngbTabContent>\r\n\t\t\t\t<article class="tab"></article>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--TELEFONO --\x3e\r\n\t\t\t\t<section formArrayName="telefonos">\r\n\t\t\t\t\t<article *ngFor="let Datos of form.get(\'telefonos\').controls; let i=index; let c=count;">\r\n\t\t\t\t\t\t<section [formGroupName]="i" class="form-group clearfix">\r\n\t\t\t\t\t\t\t<app-formulario-telefono  \r\n\t\t\t\t\t\t\t\t\t\t\t[group]="Datos" \r\n\t\t\t\t\t\t\t\t\t\t\t[multiple]="i+1"\r\n\t\t\t\t\t\t\t\t\t\t\t[size]="c"\r\n\t\t\t\t\t\t\t\t\t\t\t[inModal]="inModal"\r\n\t\t\t\t\t\t\t\t\t\t\t[inDetails]="inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t(onInsert)="addDatosTelefono()"\r\n\t\t\t\t\t\t\t\t\t\t\t(onRemove)="removeDatosTelefono($event)">\r\n\t\t\t\t\t\t\t</app-formulario-telefono>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--CORREO --\x3e\r\n\t\t\t\t<section formArrayName="correos">\r\n\t\t \t\t\t<article *ngFor="let Datos of form.get(\'correos\').controls; let i=index; let c=count;">\r\n\t\t \t\t\t\t<section [formGroupName]="i" class="form-group clearfix">\r\n\t\t\t \t\t\t\t<app-formulario-correo \r\n\t\t\t \t\t\t\t\t\t\t\t[group]="Datos"\r\n\t\t\t\t\t\t\t\t\t\t\t[multiple]="i+1"\r\n\t\t\t\t\t\t\t\t\t\t\t[size]="c"\r\n\t\t\t\t\t\t\t\t\t\t\t[inModal]="inModal"\r\n\t\t\t\t\t\t\t\t\t\t\t[inDetails]="inDetails"\r\n\t\t\t\t\t\t\t\t\t\t\t[hasMainEmail]="mainEmail>-1?true:false"\r\n\t\t\t\t\t\t\t\t\t\t\t(onInsert)="addDatosCorreo()"\r\n\t\t\t\t\t\t\t\t\t\t\t(onRemove)="removeDatosCorreo($event)"\r\n\t\t\t\t\t\t\t\t\t\t\t(selected)="checkAvailability(i,c,$event)">\r\n\t\t\t\t\t\t\t</app-formulario-correo>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</article>\r\n\t\t\t\t</section>\r\n\t\t\t</ng-template>\r\n\t\t</ngb-tab>\r\n\t\t<ngb-tab>\r\n\t\t\t<ng-template ngbTabTitle><span class="validTab">Permisos</span></ng-template>\r\n\t\t\t<ng-template ngbTabContent>\r\n\t\t\t\t<article class="tab"></article>\r\n\t\t\t\t<section formArrayName="permisos">\r\n\t\t\t\t\t<section *ngFor="let p of form.get(\'permisos\').controls; let i=index">\r\n\t\t\t\t\t\t<section class="justify-content-center" [ngClass]="{\'row\':!isMobileSize()}" [formGroupName]="i">\r\n\t\t\t\t\t\t\t<label class="col-form-label" [ngClass]="{\'col-sm-6\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\r\n\t\t\t\t\t\t\t\t<i class="fa fa-key" aria-hidden="true"></i><strong> {{ p.value.descripcion }}</strong>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<article class="col-sm-3">\r\n\t\t\t\t\t\t\t\t<section class="row pt-1 justify-content-center">\r\n\t\t\t\t\t\t\t\t\t<label class="r-btn btn ml-1" *ngFor="let n of nivelesPermisos"\r\n\t\t\t\t\t\t\t\t\t\t\t[class.active]="p.value.nivel === n.value"\r\n\t\t\t\t\t\t\t\t\t\t\t[ngClass]="{\'btn-outline-primary\':n.type!==\'None\',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\'btn-outline-danger\':n.type===\'None\'}">\r\n\t\t\t\t\t\t\t\t\t\t<input type="radio" formControlName="nivel" [value]="n.value" *ngIf="permiso===\'todos\' && !inDetails">\r\n\t\t\t\t\t\t\t\t\t\t<span class="custom-control-description" [ngSwitch]="n.type">\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-book" aria-hidden="true" *ngSwitchCase="\'Read\'"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-edit" aria-hidden="true" *ngSwitchCase="\'All\'"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<i class="fa fa-times" aria-hidden="true" *ngSwitchCase="\'None\'"></i>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</section>\r\n\t\t\t</ng-template>\r\n\t\t</ngb-tab>\r\n\t\t</ngb-tabset>\r\n\r\n\t\t<section class="botones">\r\n\t\t\t<span placement="top" [ngbTooltip]="!form.valid ||!empresaSelected ||mainEmail<0||checkOccupiedEmails() ?\'Complete todos los campos correctamente\':false" *ngIf="!inDetails">\r\n\t\t\t\t<input type="submit" role="button" [value]="titulo" class="btn btn-outline-success" [disabled]="!form.valid || !empresaSelected || mainEmail<0 || checkOccupiedEmails()">\r\n\t\t\t</span>\r\n\t\t\t<a class="btn btn-outline-success" routerLink="../" *ngIf="inDetails && permiso===\'todos\'">Modificar</a>\r\n\t\t\t<a class="btn btn-outline-danger" [routerLink]="inDetails ? \'../../\' : \'../\'">Cancelar</a>\r\n\t\t</section>\r\n\r\n\r\n\r\n\r\n\r\n\t</form>\r\n</section>'},Uzs3:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},V1OV:function(t,e){t.exports='<section [formGroup]="correosForm" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t<label class="col-form-label" [ngClass]="{\'col-sm-12\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t<span *ngIf="length>1" class="badge badge-pill badge-info">{{contador}}</span>\n\t\t<i class="fa fa-envelope fa-fw" aria-hidden="true"></i><strong> Correo(s):</strong>\n\t\t<div *ngIf="length > 1 && isMobileSize() && !inDetails" class="pull-right">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t</label>\n\t<div [ngClass]="{\'col-sm-12\': isMobileSize(),\'col-sm-8 mx-0 form-row\': !isMobileSize()}">\n\t\t<article [ngClass]="{\'px-0 col-sm-5\': !isMobileSize() && !inDetails,\n\t\t\t\t\t\t\t\'col\': !isMobileSize() && inDetails,\n\t\t\t\t\t\t\t\'has-danger\': !correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty),\n\t\t\t\t\t\t\t\'has-success\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails&& (!correoOcupado || correosForm.get(\'correo\').value===previousEmail),\n\t\t\t\t\t\t\t\'has-warning\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && correoOcupado && correosForm.get(\'correo\').value.toLowerCase() !== previousEmail.toLowerCase()}">\n\t\t\t<input class="form-control" type="text" formControlName="correo" placeholder="Ej: correo@dominio.com" [readonly]="inDetails"\n\t\t\t\t[ngClass]="{\'form-control-sm\': isMobileSize(),\n\t\t\t\t\t\t\t\'form-control-danger\': !correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty),\n\t\t\t\t\t\t\t\'form-control-success\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && (!correoOcupado || correosForm.get(\'correo\').value===previousEmail),\n\t\t\t\t\t\t\t\'form-control-warning\': correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty) && !inDetails && correoOcupado && correosForm.get(\'correo\').value.toLowerCase() !== previousEmail.toLowerCase()}">\n\t\t\t<div *ngIf="correosForm.get(\'correo\').hasError(\'required\') && correosForm.get(\'correo\').dirty" class="alert alert-danger">\n\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo es obligatorio!</small>\n\t\t\t</div>\n\t\t\t<div *ngIf="correoOcupado && correosForm.get(\'correo\').value.toLowerCase() !== previousEmail.toLowerCase()" class="alert alert-warning">\n\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este nombre de usuario ya está en uso!</small>\n\t\t\t</div>\n\t\t\t\x3c!-- <div *ngIf="correoOcupado && correosForm.get(\'correo\').valid && (correosForm.get(\'correo\').touched || correosForm.get(\'correo\').dirty)" class="alert alert-warning">\n\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; El correo electrónico ya esta siendo usado por otro usuario!</small>\n\t\t\t</div> --\x3e\n\t\t</article>\n\t\t<article [ngClass]="{\'pt-1\':isMobileSize(),\'px-0 ml-3 col-sm-4\':!isMobileSize()}">\n\t\t\t<div [ngClass]="{\'has-danger\':!correosForm.get(\'idTipoCorreo\').valid && (correosForm.get(\'idTipoCorreo\').touched||correosForm.get(\'idTipoCorreo\').dirty),\n\t\t\t\t\t\t\t\'has-success\':correosForm.get(\'idTipoCorreo\').valid && (correosForm.get(\'idTipoCorreo\').touched||correosForm.get(\'idTipoCorreo\').dirty)}">\n\t\t\t\t<select class="custom-select form-control" formControlName="idTipoCorreo" *ngIf="!inDetails" [ngClass]="{\'form-control-sm\':windowWidth<=450}">\n\t\t\t\t\t<option *ngIf="correosForm.get(\'idTipoCorreo\').pristine&&!correosForm.get(\'idTipoCorreo\').value" selected value="null">\n\t\t\t\t\t\tSeleccione un tipo\n\t\t\t\t\t</option>\n\t\t\t\t\t<option *ngFor="let t of tipos | orderByDescription: [\'descripcion\']" value="{{t.idTipoCorreo}}">{{t.descripcion | titleCase}}</option>\n\t\t\t\t\t<option value="-1">*Nuevo tipo de correo</option>\n\t\t\t\t</select>\n\t\t\t\t<input type="text" class="form-control" *ngIf="inDetails" formControlName="tipo" readonly [ngClass]="{\'margen\': windowWidth <= 780}">\n\t\t\t</div>\n\t\t\t<section *ngIf="correosForm.get(\'idTipoCorreo\').value<0" class="col-12">\n\t\t\t\t<form [formGroup]="tipoForm" (submit)="addTipo()" novalidate class="row">\n\t\t\t\t\t<div class="pt-1 w-100">\n\t\t\t\t\t\t<article class="input-group" id="nuevoTipo" [ngClass]="{\'has-danger\':formErrors.descripcion,\'has-success\':!formErrors.descripcion}">\n\t\t\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" [ngClass]="{\'form-control-sm\':isMobileSize()}" placeholder="Nuevo tipo..." autofocus>\n\t\t\t\t\t\t\t<span class="input-group-btn" id="guardarTipo">\n\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-success" [ngClass]="{\'btn-sm\':isMobileSize()}" [disabled]="tipoForm.invalid">\n\t\t\t\t\t\t\t\t\t<i *ngIf="!submitted" class="fa fa-save"></i>\n\t\t\t\t\t\t\t\t\t<i *ngIf="submitted" class="fa fa-spinner fa-pulse fa-fw"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t</article>\n\t\t<span *ngIf="contador===length && !isMobileSize() && !inDetails" id="nuevoCorreo" [ngClass]="{\'ml-auto\':contador<2,\'ml-2\':contador>1}">\n\t\t\t<span class="float-right">\n\t\t\t\t<button type="button" class="btn btn-outline-primary" (click)="addNew()" [disabled]="correosForm.invalid || correoOcupado">\n\t\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i>\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</span>\n\t\t<div *ngIf="length > 1 && !isMobileSize() && !inDetails" class="ml-auto mr-3">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t\x3c!--...................................................................... Principal --\x3e\n\t\t<article id="correoPrincipal" class="mt-1" *ngIf="(!hasMainEmail || isMainEmail)">\n\t\t\t<label class="custom-control custom-checkbox" *ngIf="!inDetails">\n\t\t\t\t<input type="checkbox" class="custom-control-input" formControlName="principal" (change)="checked($event)">\n\t\t\t\t<span class="custom-control-indicator"></span>\n\t\t\t\t<span class="custom-control-description">Usar este correo como nombre de usuario.</span>\n\t\t\t</label>\n\t\t\t<span *ngIf="inDetails"></span>\n\t\t</article>\n\t\t<span *ngIf="contador===length && isMobileSize() && !inDetails" id="nuevoCorreo" class="float-right">\n\t\t\t<span>\n\t\t\t\t<button type="button" class="btn btn-outline-primary"\n\t\t\t\t\t(click)="addNew()"\n\t\t\t\t\t[disabled]="correosForm.invalid || correoOcupado"\n\t\t\t\t\t[ngClass]="{\'btn-sm\':windowWidth<=450}">\n\t\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i> Nuevo\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</span>\n\t</div>\n</section>'},hmQP:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"input.ng-invalid,select.ng-invalid{border:1px solid #d44a4b}input.ng-touched.ng-pristine.ng-valid,input.ng-untouched.ng-pristine,input.ng-untouched.ng-pristine.ng-invalid,input.ng-untouched.ng-pristine.ng-valid,select.ng-touched.ng-pristine.ng-valid,select.ng-untouched.ng-pristine,select.ng-untouched.ng-pristine.ng-invalid,select.ng-untouched.ng-pristine.ng-valid{border:1px solid #ccc}input.ng-touched.ng-pristine.ng-invalid.form-control-success,input.ng-untouched.ng-pristine.ng-invalid.form-control-success{background-image:none}.margen{margin-top:4px}#tipo{width:100%}.alineado{margin-left:9px}@media screen and (max-width:425px){label{font-size:.8em}input,select{font-size:.7em}div small{font-size:.65em}}@media screen and (max-width:375px){label{font-size:.75em}}@media screen and (max-width:320px){label{font-size:.7em}}",""]),t.exports=t.exports.toString()},iAID:function(t,e,o){"use strict";var r=o("/oeL"),n=o("CPp0"),i=o("bKpL"),s=(o.n(i),o("5v8a")),a=(o.n(s),o("xpf9")),l=(o.n(a),o("z0cY"));o.d(e,"a",function(){return m});var c=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=new l.a,p=d.ruta+"datoscp/",m=function(){function t(t){this._http=t}return t.prototype.getCodigoPostal=function(t){var e=new n.d({Authorization:localStorage.getItem("id_token")}),o=new n.e({headers:e});return this._http.get(p+t,o).map(function(t){return t.json()}).catch(function(t){return i.Observable.throw(t)})},t}();m=c([o.i(r.Injectable)(),u("design:paramtypes",["function"==typeof(f=void 0!==n.f&&n.f)&&f||Object])],m);var f},"n1/F":function(t,e,o){"use strict";var r=o("/oeL");o.d(e,"a",function(){return s});var n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=n([o.i(r.Component)({selector:"app-usuarios",template:o("y+rC"),styles:[o("Uzs3")]}),i("design:paramtypes",[])],s)},p2VZ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o("/oeL"),n=o("0WLp"),i=o("CPp0"),s=o("qbdv"),a=o("bm2B"),l=o("iz04"),c=o("+ebz"),u=o("XDF1"),d=o("iAID"),p=o("qnFi"),m=o("EBN1"),f=o("SIGK"),g=o("Bxd6"),h=o("n1/F"),b=o("6Xzm"),v=o("AVlK"),y=o("ExPy"),E=o("E/vw"),C=o("qVv0"),w=o("p9/M"),x=o("ydrT"),D=o("1bcL");o.d(e,"UsuariosModule",function(){return z});var S=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},z=function(){function t(){}return t}();z=S([o.i(r.NgModule)({imports:[s.a,a.a,a.b,n.a.forRoot(),w.a,i.b,l.a,c.a,u.a],exports:[E.a,C.a],providers:[D.a,d.a,p.a,f.a,m.a,g.a,x.a,x.b,x.e],declarations:[h.a,b.a,v.a,y.a,E.a,C.a]})],z)},"p9/M":function(t,e,o){"use strict";var r=o("BkNc"),n=o("6Xzm"),i=o("ExPy"),s=o("ydrT"),a=o("1bcL");o.d(e,"a",function(){return c});var l=[{path:"",component:n.a},{path:"registrar",component:i.a,canActivate:[s.e],canDeactivate:[a.a]},{path:":id",component:i.a,canActivate:[s.e],canDeactivate:[a.a]},{path:":id/detalles",component:i.a,canDeactivate:[a.a]}],c=r.c.forChild(l)},pVpE:function(t,e,o){e=t.exports=o("rP7Y")(!1),e.push([t.i,"@media screen and (max-width:425px){.fuenteDetalles{font-size:.85em}}",""]),t.exports=t.exports.toString()},qVv0:function(t,e,o){"use strict";var r=o("/oeL"),n=o("bm2B"),i=o("Bxd6"),s=o("D/Rt"),a=o("ydrT");o.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,o,s):n(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,o){var n=this;this._service=t,this._swal=e,this._fb=o,this.onInsert=new r.EventEmitter,this.onRemove=new r.EventEmitter,this.tipos=[],this.submitted=!1,this.phonePipeFlag=!0,this.modifyPhonePipeFlag=!0,this.formErrors={descripcion:"",idTipoTelefono:""},this.msgErrors={descripcion:{required:"Debe de especificar un usuario"},idTipoTelefono:{required:"Debe de especificar un tipo de telefono",minValue:"Especifique un nuevo tipo de teléfono"}},this._service.getTipos("telefonos").subscribe(function(t){t&&(n.tipos=t,n.telefonosForm.get("idTipoTelefono").value>0&&n.telefonosForm.get("tipo").setValue(n.tipos.find(function(t){return t.idTipoTelefono==n.telefonosForm.get("idTipoTelefono").value}).descripcion))},function(t){return n._swal.error(t)}),this.bindForm()}return t.prototype.ngOnInit=function(){var t=this;this.windowSize=new a.d,this.windowSize.width.subscribe(function(e){return t.windowWidth=e})},t.prototype.bindForm=function(){var t=this;this.tipoForm=this._fb.group({idTipoTelefono:[null,s.a.minValue(1)],descripcion:[null,n.c.compose([n.c.required,s.a.formatoDescripcion])]}),this.tipoForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}),this.onValueChanged()},t.prototype.onValueChanged=function(t){if(this.tipoForm){var e=this.tipoForm;for(var o in this.formErrors){this.formErrors[o]="";var r=e.get(o);if(r&&!r.valid&&r.dirty){var n=this.msgErrors[o];for(var i in r.errors)"currentValue"!==i&&(this.formErrors[o]||(this.formErrors[o]+=n[i]+""))}}}},t.prototype.remove=function(){this.onRemove.emit(this.contador-1)},t.prototype.addNew=function(){if(this.telefonosForm.invalid)return void this._swal.warning("ATENCIÓN","Favor de completar correctamente la información.",2e3);this.onInsert.emit()},t.prototype.addTipo=function(){var t=this;if(!this.tipoForm.valid)return void this._swal.warning("ATENCIÓN","Favor de completar correctamente la información.",2e3);this.submitted=!0,console.log("tipoForm:",this.tipoForm.value),this._service.guardarTipo("telefonos",this.tipoForm.value).subscribe(function(e){return t._service.getTipos("telefonos").subscribe(function(e){return Promise.resolve(t.tipos=e).then(function(e){return t.telefonosForm.get("idTipoTelefono").setValue(t.tipos[t.tipos.length-1].idTipoTelefono)})},function(e){t._swal.error(e),t.submitted=!1})},function(e){t._swal.error(e),t.submitted=!1},function(){t.submitted=!1,t.tipoForm.reset()})},t.prototype.isMobileSize=function(){return this.windowWidth<=991},t.prototype.isTabletSize=function(){return this.windowWidth<=768},t}();l([o.i(r.Input)("group"),c("design:type","function"==typeof(d=void 0!==n.e&&n.e)&&d||Object)],u.prototype,"telefonosForm",void 0),l([o.i(r.Input)("multiple"),c("design:type",Number)],u.prototype,"contador",void 0),l([o.i(r.Input)("size"),c("design:type",Number)],u.prototype,"length",void 0),l([o.i(r.Input)(),c("design:type",Boolean)],u.prototype,"inModal",void 0),l([o.i(r.Input)(),c("design:type",Boolean)],u.prototype,"inDetails",void 0),l([o.i(r.Output)(),c("design:type",Object)],u.prototype,"onInsert",void 0),l([o.i(r.Output)(),c("design:type",Object)],u.prototype,"onRemove",void 0),u=l([o.i(r.Component)({selector:"app-formulario-telefono",template:o("wFRb"),styles:[o("hmQP")]}),c("design:paramtypes",["function"==typeof(p=void 0!==i.a&&i.a)&&p||Object,"function"==typeof(m=void 0!==a.b&&a.b)&&m||Object,"function"==typeof(f=void 0!==n.d&&n.d)&&f||Object])],u);var d,p,m,f},wFRb:function(t,e){t.exports='<section [formGroup]="telefonosForm" class="clearfix" [ngClass]="{\'row\':!isMobileSize()}">\n\t<label class="col-form-label" [ngClass]="{\'col-sm-12\':isMobileSize(),\'col-sm-4\':!isMobileSize()}">\n\t\t<span *ngIf="length>1" class="badge badge-pill badge-primary">{{contador}}</span>\n\t\t<i class="fa fa-phone fa-fw" aria-hidden="true"></i><strong> Teléfono(s):</strong>\n\t\t<div *ngIf="length > 1 && isMobileSize() && !inDetails" class="pull-right">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t</label>\n\t<div [ngClass]="{\'col-sm-12\': isMobileSize(),\'col-sm-8 mx-0 form-row\': !isMobileSize()}">\n\t\t<article [ngClass]="{\'px-0 col-sm-5\': !isMobileSize() && !inDetails,\n\t\t\t\t\t\t\t\'col\': !isMobileSize() && inDetails,\n\t\t\t\t\t\t\t\'has-danger\': !telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty),\n\t\t\t\t\t\t\t\'has-success\': telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty) && !inDetails}">\n\t\t\t<input class="form-control" type="text" formControlName="telefono" placeholder="Ej. (667)151-9658" [readonly]="inDetails"\n\t\t\t\t(focus)="inDetails ? phonePipeFlag=true : phonePipeFlag=false"\n\t\t\t\t(blur)="phonePipeFlag=true"\n\t\t\t\t[value]="phonePipeFlag && telefonosForm.get(\'telefono\').valid ? (telefonosForm.get(\'telefono\').value | telefono) : telefonosForm.get(\'telefono\').value"\n\t\t\t\t[ngClass]="{\'form-control-sm\': isMobileSize(),\n\t\t\t\t\t\t\t\'form-control-danger\': !telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty),\n\t\t\t\t\t\t\t\'form-control-success\': telefonosForm.get(\'telefono\').valid && (telefonosForm.get(\'telefono\').touched || telefonosForm.get(\'telefono\').dirty)}">\n\t\t\t<div *ngIf="telefonosForm.get(\'telefono\').hasError(\'required\') && telefonosForm.get(\'telefono\').dirty" class="alert alert-danger">\n\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; Este campo es obligatorio!</small>\n\t\t\t</div>\t\t\t\t\t\n\t\t</article>\n\t\t<article [ngClass]="{\'pt-1\':isMobileSize(),\'px-0 ml-3 col-sm-4\':!isMobileSize()}">\n\t\t\t<div [ngClass]="{\'has-danger\':!telefonosForm.get(\'idTipoTelefono\').valid && (telefonosForm.get(\'idTipoTelefono\').touched ||telefonosForm.get(\'idTipoTelefono\').dirty),\n\t\t\t\t\t\t\t\'has-success\':telefonosForm.get(\'idTipoTelefono\').valid && (telefonosForm.get(\'idTipoTelefono\').touched ||telefonosForm.get(\'idTipoTelefono\').dirty)}">\n\t\t\t\t<select class="custom-select form-control" formControlName="idTipoTelefono" *ngIf="!inDetails" [ngClass]="{\'form-control-sm\':windowWidth<=450}">\n\t\t\t\t\t<option *ngIf="telefonosForm.get(\'idTipoTelefono\').pristine&&!telefonosForm.get(\'idTipoTelefono\').value" selected value="null">\n\t\t\t\t\t\tSeleccione un tipo\n\t\t\t\t\t</option>\n\t\t\t\t\t<option *ngFor="let t of tipos | orderByDescription: [\'descripcion\']" value="{{t.idTipoTelefono}}">{{t.descripcion | titleCase}}</option>\n\t\t\t\t\t<option value="-1">*Nuevo tipo de teléfono</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t\x3c!--tipo--\x3e\n\t\t\t<section *ngIf="telefonosForm.get(\'idTipoTelefono\').value<0" class="col-12">\n\t\t\t\t<form [formGroup]="tipoForm" (submit)="addTipo()" novalidate class="row">\n\t\t\t\t\t<div class="pt-1 w-100">\n\t\t\t\t\t\t<article class="input-group" id="nuevoTipo"\n\t\t\t\t\t\t\t\t[ngClass]="{\'has-danger\': formErrors.descripcion,\'has-success\': !formErrors.descripcion}">\n\t\t\t\t\t\t\t<input type="text" formControlName="descripcion" id="tipo" class="form-control" [ngClass]="{\'form-control-sm\':isMobileSize()}" placeholder="Nuevo tipo..." autofocus>\n\t\t\t\t\t\t\t<span class="input-group-btn" id="guardarTipo">\n\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-success" [ngClass]="{\'btn-sm\':isMobileSize()}" [disabled]="tipoForm.invalid">\n\t\t\t\t\t\t\t\t\t<i *ngIf="!submitted" class="fa fa-save"></i>\n\t\t\t\t\t\t\t\t\t<i *ngIf="submitted" class="fa fa-spinner fa-pulse fa-fw"></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</article>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t<input type="text" class="form-control" *ngIf="inDetails" [value]="telefonosForm.value.idTipoTelefono | tipoTelefono: tipos" formControlName="idTipoTelefono" readonly\n\t\t\t\t[ngClass]="{\'margen\': windowWidth <= 780}">\n\t\t\t<div *ngIf="formErrors.idTipoTelefono" class="alert alert-danger">\n\t\t\t\t<small><i class="fa fa-warning"></i>&nbsp; {{formErrors.idTipoTelefono}}</small>\n\t\t\t</div>\n\t\t\t<span *ngIf="contador===length && isMobileSize() && !inDetails" id="nuevoTelefono" class="float-right">\n\t\t\t\t<span>\n\t\t\t\t\t<button type="button" class="btn btn-outline-primary"\n\t\t\t\t\t\t(click)="addNew()"\n\t\t\t\t\t\t[disabled]="telefonosForm.invalid"\n\t\t\t\t\t\t[ngClass]="{\'btn-sm\':windowWidth<=450}">\n\t\t\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i> Nuevo\n\t\t\t\t\t</button>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</article>\n\t\t<span *ngIf="contador===length && !isMobileSize() && !inDetails" id="nuevoTelefono"\n\t\t\t[ngClass]="{\'ml-auto\':contador<2,\'ml-2\':contador>1}">\n\t\t\t<span class="float-right">\n\t\t\t\t<button type="button" class="btn btn-outline-primary" (click)="addNew()" placement="right" [disabled]="telefonosForm.invalid">\n\t\t\t\t\t<i class="fa fa-plus" aria-hidden="true"></i>\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</span>\n\t\t<div *ngIf="length > 1 && !isMobileSize() && !inDetails" class="ml-auto mr-3">\n\t\t\t<span class="close" (click)="remove()">&times;</span>\n\t\t</div>\n\t</div>\n</section>'},"y+rC":function(t,e){t.exports="<p>\r\n  usuarios works!\r\n</p>\r\n"}});